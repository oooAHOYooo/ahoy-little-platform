import{_ as ge,u as fe,o as ce,a as G,b as de,r as ue,c as d,d as f,e,F as E,f as W,w as Y,g as m,h as X,i as N,t as _,j as q,k as I,l as J,m as g,n as ye,p as we,q as ke,v as _e,s as re,x as Q,y as ee,z as ae,A as be,B as xe}from"./index-E3F7F_pY.js";let ie=null;function ve(){if(!ie&&typeof window<"u"){const l=window.AudioContext||window.webkitAudioContext;l&&(ie=new l)}return ie}function Ce(){if(typeof window>"u")return;const l=ve();if(!l)return;l.state==="suspended"&&l.resume().catch(()=>{});const v=l.currentTime,i=l.createOscillator(),y=l.createGain();i.type="triangle",i.frequency.setValueAtTime(800,v),i.frequency.exponentialRampToValueAtTime(1200,v+.05),y.gain.setValueAtTime(0,v),y.gain.linearRampToValueAtTime(.05,v+.01),y.gain.exponentialRampToValueAtTime(.001,v+.05),i.connect(y),y.connect(l.destination),i.start(v),i.stop(v+.05)}function $e(){if(typeof window>"u")return;const l=ve();if(!l)return;l.state==="suspended"&&l.resume().catch(()=>{});const v=l.currentTime,i=l.createOscillator(),y=l.createGain();i.type="square",i.frequency.setValueAtTime(400,v),i.frequency.exponentialRampToValueAtTime(600,v+.1),y.gain.setValueAtTime(0,v),y.gain.linearRampToValueAtTime(.08,v+.01),y.gain.exponentialRampToValueAtTime(.001,v+.1),i.connect(y),y.connect(l.destination),i.start(v),i.stop(v+.1)}function Te(){return{playHoverSound:Ce,playClickSound:$e}}const H={mounted(l,v){const i={max:15,perspective:1e3,scale:1.05,speed:1e3,...v.value};l.style.transformStyle="preserve-3d",l.style.transform=`perspective(${i.perspective}px)`;const y=S=>{const T=l.getBoundingClientRect(),b=S.clientX-T.left,A=S.clientY-T.top,r=T.width/2,h=T.height/2,M=(A-h)/h*-i.max,L=(b-r)/r*i.max;(i.target?l.querySelectorAll(i.target):[l]).forEach(w=>{w.style.transition="none",w.style.transform=`
                    perspective(${i.perspective}px)
                    rotateX(${M}deg)
                    rotateY(${L}deg)
                    scale3d(${i.scale}, ${i.scale}, ${i.scale})
                 `})},R=()=>{(i.target?l.querySelectorAll(i.target):[l]).forEach(T=>{T.style.transition=`transform ${i.speed}ms cubic-bezier(.03,.98,.52,.99)`,T.style.transform=`
                    perspective(${i.perspective}px)
                    rotateX(0deg)
                    rotateY(0deg)
                    scale3d(1, 1, 1)
                `})};l.addEventListener("mousemove",y),l.addEventListener("mouseleave",R),l._tiltCleanup=()=>{l.removeEventListener("mousemove",y),l.removeEventListener("mouseleave",R)}},unmounted(l){l._tiltCleanup&&l._tiltCleanup()}},Me={key:0,class:"explore-widgets-container"},Ve={class:"explore-widget recent-widget"},Ne={class:"widget-grid"},Se={key:0,class:"empty-placeholder"},Ae={class:"card-image"},Ze=["src","alt"],Ye={class:"card-title"},je={class:"explore-widget saves-widget"},Ee={class:"widget-grid"},We={key:0,class:"empty-placeholder"},Ie={class:"card-image"},Re=["src","alt"],Le={class:"card-title"},De={class:"explore-widget video-widget"},Pe={class:"widget-grid"},Fe={class:"card-image"},ze=["src","alt"],Be={class:"card-title"},Qe={class:"explore-widget podcast-widget"},qe={class:"widget-grid"},Ge={class:"card-image"},Oe=["src","alt"],Xe={class:"card-title"},He={class:"explore-widget music-widget"},Je={class:"widget-grid"},Ue={class:"card-image"},Ke=["src","alt"],et={class:"card-title"},tt={class:"explore-widget artist-widget"},st={class:"widget-grid"},at={class:"card-image circle"},it=["src","alt"],nt={class:"card-title"},lt={__name:"ExploreWidgets",setup(l){const v=g(!0),i=g([]),y=g([]),R=g([]),S=g([]),T=g([]),b=g([]),A=fe(),{playHoverSound:r,playClickSound:h}=Te();typeof window<"u"&&window.matchMedia("(hover: hover)").matches;function M(w,o){return!w||w.length===0?[]:[...w].sort(()=>.5-Math.random()).slice(0,o)}function L(){try{const w=localStorage.getItem("ahoy.recentlyPlayed.v1");w&&(b.value=JSON.parse(w).slice(0,6))}catch(w){console.error("Failed to load recently played",w)}}function D(){const w=Object.values(A.bookmarks.value||{});T.value=w.reverse().slice(0,6)}return ce(async()=>{try{const[w,o,x,a]=await Promise.all([G("/api/podcasts").catch(()=>({shows:[]})),G("/api/shows").catch(()=>({shows:[]})),G("/api/music").catch(()=>({tracks:[],albums:[]})),G("/api/artists").catch(()=>({artists:[]}))]);i.value=M(w.shows||[],6),y.value=M(o.shows||[],6);const U=x.tracks||[],B=new Map,Z=[];for(const n of U)n.album&&n.album!=="Single"&&!B.has(n.album)?B.set(n.album,{id:n.album,title:n.album,cover_art:n.cover_art||n.artwork,artist:n.artist,type:"album"}):Z.push({id:n.id,title:n.title,cover_art:n.cover_art||n.artwork,artist:n.artist,type:"track"});let $=Array.from(B.values());if($.length<3){const n=3-$.length,F=M(Z,n);$=[...$,...F]}if($.length<3){const n=3-$.length,F=new Set($.map(k=>k.id||k.title)),te=U.filter(k=>!F.has(k.id)&&!F.has(k.title)),se=M(te,n).map(k=>({id:k.id,title:k.title,cover_art:k.cover_art||k.artwork,artist:k.artist,type:"track"}));$=[...$,...se]}R.value=$.slice(0,6);const P=(a.artists||[]).map(n=>({...n,slug:n.slug||n.id||(n.name||"").toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}));S.value=M(P,6),L(),D(),window.addEventListener("recentlyPlayed:updated",n=>{n.detail&&n.detail.recent&&(b.value=n.detail.recent.slice(0,6))}),window.addEventListener("bookmarks:changed",D)}catch(w){console.error("Error loading explore widgets",w)}finally{v.value=!1}}),de(()=>{window.removeEventListener("recentlyPlayed:updated",L),window.removeEventListener("bookmarks:changed",D)}),(w,o)=>{const x=ue("router-link");return v.value?J("",!0):(d(),f("section",Me,[e("div",Ve,[o[1]||(o[1]=e("div",{class:"widget-header"},[e("div",{class:"header-icon"},[e("i",{class:"fas fa-history"})]),e("div",{class:"header-text"},[e("h3",null,"Recently Played"),e("p",null,"Jump back in")])],-1)),e("div",Ne,[b.value.length===0?(d(),f("div",Se," No history yet ")):(d(!0),f(E,{key:1},W(b.value,a=>Y((d(),X(x,{key:a.key||a.id,to:`/${a.type==="show"?"shows":"music"}/${a.id}`,class:"widget-card",onMouseenter:m(r),onClick:m(h)},{default:N(()=>[e("div",Ae,[e("img",{src:a.artwork||a.cover_art||"/static/img/default-cover.jpg",alt:a.title,loading:"lazy"},null,8,Ze),o[0]||(o[0]=e("div",{class:"play-icon"},[e("i",{class:"fas fa-play"})],-1))]),e("div",Ye,_(a.title),1)]),_:2},1032,["to","onMouseenter","onClick"])),[[m(H),{target:".card-image img",scale:1.1,speed:600,max:10}]])),128))]),o[2]||(o[2]=e("div",{class:"widget-cta cta-indigo",style:{cursor:"default"}}," Your History ",-1))]),e("div",je,[o[4]||(o[4]=e("div",{class:"widget-header"},[e("div",{class:"header-icon"},[e("i",{class:"fas fa-bookmark"})]),e("div",{class:"header-text"},[e("h3",null,"My Saves"),e("p",null,"Your Favorites")])],-1)),e("div",Ee,[T.value.length===0?(d(),f("div",We," Nothing### Video Widget Unification - Verified that Videos now appear square (1:1), matching the Podcasts and Music sections. - Verified that the grid items align perfectly across different widgets. ### Backend API Test ")):(d(!0),f(E,{key:1},W(T.value,a=>Y((d(),X(x,{key:a.id||a.slug,to:a.type==="artist"?`/artists/${a.slug}`:`/${a.type==="show"?"shows":"music"}/${a.id}`,class:"widget-card",onMouseenter:m(r),onClick:m(h)},{default:N(()=>[e("div",Ie,[e("img",{src:a.cover_art||"/static/img/default-cover.jpg",alt:a.title,loading:"lazy"},null,8,Re)]),e("div",Le,_(a.title||a.name),1)]),_:2},1032,["to","onMouseenter","onClick"])),[[m(H),{target:".card-image img",scale:1.1,speed:600,max:10}]])),128))]),q(x,{to:"/profile",class:"widget-cta cta-gold",onClick:m(h)},{default:N(()=>[...o[3]||(o[3]=[I(" View All Saves ",-1)])]),_:1},8,["onClick"])]),e("div",De,[o[7]||(o[7]=e("div",{class:"widget-header"},[e("div",{class:"header-icon"},[e("i",{class:"fas fa-video"})]),e("div",{class:"header-text"},[e("h3",null,"Videos"),e("p",null,"Watch latest content")])],-1)),e("div",Pe,[(d(!0),f(E,null,W(y.value,a=>Y((d(),X(x,{key:a.id,to:`/videos?play=${a.id}`,class:"widget-card video-card",onMouseenter:m(r),onClick:m(h)},{default:N(()=>[e("div",Fe,[e("img",{src:a.thumbnail||"/static/img/default-cover.jpg",alt:a.title,loading:"lazy"},null,8,ze),o[5]||(o[5]=e("div",{class:"play-icon"},[e("i",{class:"fas fa-play"})],-1))]),e("div",Be,_(a.title),1)]),_:2},1032,["to","onMouseenter","onClick"])),[[m(H),{target:".card-image img",scale:1.1,speed:600,max:10}]])),128))]),q(x,{to:"/videos",class:"widget-cta cta-red",onClick:m(h)},{default:N(()=>[...o[6]||(o[6]=[I(" Watch Now ",-1)])]),_:1},8,["onClick"])]),e("div",Qe,[o[9]||(o[9]=e("div",{class:"widget-header"},[e("div",{class:"header-icon"},[e("i",{class:"fas fa-podcast"})]),e("div",{class:"header-text"},[e("h3",null,"Podcasts"),e("p",null,"Fresh episodes & shows")])],-1)),e("div",qe,[(d(!0),f(E,null,W(i.value,a=>Y((d(),X(x,{key:a.slug,to:`/podcasts/${a.slug}`,class:"widget-card",onMouseenter:m(r),onClick:m(h)},{default:N(()=>[e("div",Ge,[e("img",{src:a.artwork||"/static/img/default-cover.jpg",alt:a.title,loading:"lazy"},null,8,Oe)]),e("div",Xe,_(a.title),1)]),_:2},1032,["to","onMouseenter","onClick"])),[[m(H),{target:".card-image img",scale:1.1,speed:600,max:10}]])),128))]),q(x,{to:"/podcasts",class:"widget-cta cta-purple",onClick:m(h)},{default:N(()=>[...o[8]||(o[8]=[I(" Explore Podcasts ",-1)])]),_:1},8,["onClick"])]),e("div",He,[o[11]||(o[11]=e("div",{class:"widget-header"},[e("div",{class:"header-icon"},[e("i",{class:"fas fa-music"})]),e("div",{class:"header-text"},[e("h3",null,"Music"),e("p",null,"Albums & Singles")])],-1)),e("div",Je,[(d(!0),f(E,null,W(R.value,a=>Y((d(),X(x,{key:a.id||a.title,to:a.type==="album"?{path:"/music",query:{q:a.title}}:`/music/${a.id}`,class:"widget-card",onMouseenter:m(r),onClick:m(h)},{default:N(()=>[e("div",Ue,[e("img",{src:a.cover_art||"/static/img/default-cover.jpg",alt:a.title,loading:"lazy"},null,8,Ke)]),e("div",et,_(a.title),1)]),_:2},1032,["to","onMouseenter","onClick"])),[[m(H),{target:".card-image img",scale:1.1,speed:600,max:10}]])),128))]),q(x,{to:"/music",class:"widget-cta cta-blue",onClick:m(h)},{default:N(()=>[...o[10]||(o[10]=[I(" Music Library ",-1)])]),_:1},8,["onClick"])]),e("div",tt,[o[13]||(o[13]=e("div",{class:"widget-header"},[e("div",{class:"header-icon"},[e("i",{class:"fas fa-users"})]),e("div",{class:"header-text"},[e("h3",null,"Artists"),e("p",null,"Meet the creators")])],-1)),e("div",st,[(d(!0),f(E,null,W(S.value,a=>Y((d(),X(x,{key:a.slug,to:`/artists/${a.slug}`,class:"widget-card artist-card-shape",onMouseenter:m(r),onClick:m(h)},{default:N(()=>[e("div",at,[e("img",{src:a.image||"/static/img/default-avatar.png",alt:a.name,loading:"lazy"},null,8,it)]),e("div",nt,_(a.name),1)]),_:2},1032,["to","onMouseenter","onClick"])),[[m(H),{target:".card-image img",scale:1.1,speed:600,max:10}]])),128))]),q(x,{to:"/artists",class:"widget-cta cta-green",onClick:m(h)},{default:N(()=>[...o[12]||(o[12]=[I(" Discover Artists ",-1)])]),_:1},8,["onClick"])])]))}}},ot=ge(lt,[["__scopeId","data-v-b328dadb"]]),rt={class:"home-page"},ct={class:"podcasts-hero"},dt={class:"hero-search-wrapper"},ut={class:"live-dashboard"},vt={class:"dashboard-grid"},ht={class:"dash-preview"},pt=["src"],mt={class:"dash-overlay"},gt={class:"dash-badges"},ft={class:"channel-badge"},yt={key:0,class:"channel-nav"},wt={class:"dash-content"},kt={class:"dash-actions"},_t={class:"dashboard-sidebar"},bt={class:"dash-thumb"},xt=["src"],Ct={class:"dash-info"},$t={class:"radio-next-list"},Tt={class:"track-title"},Mt={class:"track-artist"},Vt={key:0,class:"tv-channel-strip"},Nt={class:"tv-channel-strip-list"},St=["onClick"],At={class:"tv-channel-strip-meta"},Zt={class:"tv-channel-strip-name"},Yt={class:"tv-channel-strip-now"},jt={key:0,class:"tv-channel-strip-next"},Et={class:"whats-new-section"},Wt={class:"whats-new-container"},It={class:"whats-new-header"},Rt={key:0,href:"/whats-new",class:"view-all-link"},Lt={class:"whats-new-loading"},Dt={class:"whats-new-updates"},Pt=["href"],Ft={class:"whats-new-content"},zt={class:"whats-new-date"},Bt={class:"whats-new-empty"},Gt={__name:"HomeView",setup(l){const v=xe(),i=ye(),y=["https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExeGlreWRqaHZxc295NHNvZWs4MWJoeTIwdXk1NnNuN2syOTE4Z3JleSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/14hS1ZEmSfKdTW/giphy.gif","https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExdnI2M2VxZmhkeTM1bHVoZmV0NmdmYzVjeWt3eHc1eGZtOWk4N3c0YyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/AS9LIFttYzkc0/giphy.gif","https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExYjB3cjhjNXEwMXhrcTFvYnF4Zm5xamduNm8ycjB4ZnJneDhyb2IzNiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/wSYE7n6pk9dqRXzitR/giphy.gif","https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExMWVkeG1sY3hvYTlwMjl0bWZrbTI3bXlqOGQ2cmYyZXVmZ2RuZWIwcCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/xWC0BCZtkDxE869erD/giphy.gif","https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExdjJ4Mml1ajMzNGh1ODVrN3J3cnVtbjZkeXZnN29wNmQ2aHhncTJ0OCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/l1J9BYe5eZccC4Nck/giphy.gif","https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExOWZnNnhxbjgzM3B1NXdzOWJwZjJnM3hveTJwNnE1bjZrb3ZicXU3bSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3oGRFs7yHPDlB8JYsg/giphy.gif"],R=g(""),S=g("");function T(){S.value.trim()&&v.push({path:"/search",query:{q:S.value}})}const b=g([]),A=g(0),r=g(null),h=g(null),M=g({}),L=g({});let D=null;const w={misc:"Channel 01 — Misc",films:"Channel 02 — Short Films","music-videos":"Channel 03 — Music Videos","live-shows":"Channel 04 — Live Shows"};function o(s,t){return w[s.id]||`Channel ${String(t+1).padStart(2,"0")} — ${s.name||"Unknown"}`}function x(){var c,j;const s=new Date().getHours(),t={},p={};for(let V=0;V<b.value.length;V++){const C=b.value[V];if((c=C==null?void 0:C.items)!=null&&c.length){const z=s%C.items.length;t[C.id]=C.items[z],p[C.id]=C.items.length>z+1?C.items[z+1]:C.items[0]}}if(M.value=t,L.value=p,(j=h.value)!=null&&j.id){const V=h.value.id;t[V]&&(r.value=t[V])}}function a(s){var p;if(!b.value.length)return;A.value=(s+b.value.length)%b.value.length;const t=b.value[A.value];h.value={...t,name:o(t,A.value)},M.value[t.id]?r.value=M.value[t.id]:(p=t.items)!=null&&p.length?r.value=t.items[0]:r.value={id:"placeholder",title:"No content available",thumbnail:"/static/img/default-cover.jpg",host:t.name}}function U(s){b.value.length&&a(A.value+(s==="next"?1:-1))}function B(s){!(s!=null&&s.id)||s.id==="placeholder"||s.id==="error"||v.push({path:"/videos",query:{play:s.id}})}const Z=g([]),$=g([]),P=g([]),n=g(null),F=be(()=>{if(!n.value||!i.currentTrack)return!1;const s=String(n.value.id??""),t=String(i.currentTrack.id??"");return s===t&&i.isPlaying});function te(){const s=[...Z.value];s.sort(()=>.5-Math.random()),$.value=s.map(t=>({...t,type:"track"})),P.value=$.value.slice(0,20)}function se(){if(F.value){i.pause();return}if(n.value){i.resume();return}const s=$.value[0]||P.value[0];s&&(n.value=s,i.setQueue(Z.value,Z.value.findIndex(t=>t.id===s.id)))}const k=g([]),O=g(!0);function he(s){if(!s)return"";try{return new Date(s).toLocaleDateString(void 0,{year:"numeric",month:"short"})}catch{return s}}function pe(s){if(s.year&&s.month&&s.section){const t=`/whats-new/${s.year}/${s.month}/${s.section}`;return s.slug?`${t}#update-${s.slug}`:t}return s.link?s.link:"/whats-new"}function me(s){var p;const t=(s==null?void 0:s.channels)??((p=s==null?void 0:s.data)==null?void 0:p.channels)??[];return Array.isArray(t)?t.map(c=>({...c,id:(c==null?void 0:c.id)??"misc",name:(c==null?void 0:c.name)??"Channel",items:Array.isArray(c==null?void 0:c.items)?c.items:[]})):[]}return ce(async()=>{R.value=y[Math.floor(Math.random()*y.length)];try{let s=null;try{s=await apiFetch("/api/live-tv/channels?_="+Date.now())}catch{s=await G("/api/live-tv/channels").catch(()=>null)}const t=s?me(s):[];if(b.value=t,t.length){const p=t.find(c=>c.id==="misc")||t[0];A.value=t.findIndex(c=>c.id===p.id),x(),a(A.value)}else r.value={id:"placeholder",title:"Loading Live TV...",thumbnail:"/static/img/default-cover.jpg",host:"Ahoy TV"},h.value={id:"misc",name:"Channel 01 — Misc"};D=setInterval(x,60*1e3)}catch{r.value={id:"error",title:"Live TV",thumbnail:"/static/img/default-cover.jpg",host:"Ahoy TV"},h.value={id:"misc",name:"Channel 01 — Misc"}}try{const t=((await G("/api/music").catch(()=>({tracks:[]}))).tracks||[]).filter(c=>c.audio_url||c.preview_url),p=new Set;Z.value=t.filter(c=>p.has(c.id)?!1:(p.add(c.id),!0)),te()}catch{}i.currentTrack&&Z.value.length&&Z.value.some(t=>{var p;return String(t.id)===String((p=i.currentTrack)==null?void 0:p.id)})&&(n.value=i.currentTrack),O.value=!0;try{const t=(await G("/api/whats-new").catch(()=>({updates:[]}))).updates;if(Array.isArray(t))k.value=t.slice(0,4);else if(t&&typeof t=="object"){const p=[];for(const c of Object.keys(t).sort().reverse())for(const j of Object.keys(t[c]||{}).sort().reverse())for(const V of Object.keys(t[c][j]||{})){const C=(t[c][j][V].items||[]).map(z=>({...z,year:c,month:j,section:V}));p.push(...C)}k.value=p.slice(0,4)}else k.value=[]}catch{k.value=[]}finally{O.value=!1}}),de(()=>{D&&clearInterval(D)}),we(()=>i.currentTrack,s=>{if(!s)return;Z.value.some(p=>String(p.id)===String(s.id))&&(n.value=s)},{deep:!0}),(s,t)=>{var c,j,V,C,z,ne,le,oe;const p=ue("router-link");return d(),f("div",rt,[e("section",ct,[e("div",{class:"podcasts-hero-inner",style:ke({backgroundImage:`url(${R.value})`})},[t[8]||(t[8]=e("h1",null,[e("i",{class:"fas fa-home","aria-hidden":"true"}),I(" Home")],-1)),t[9]||(t[9]=e("p",null,"Explore",-1)),e("div",dt,[t[7]||(t[7]=e("i",{class:"fas fa-search search-icon"},null,-1)),Y(e("input",{type:"text",class:"hero-search-input",placeholder:"Search artists, tracks, or shows...","onUpdate:modelValue":t[0]||(t[0]=u=>S.value=u),onKeydown:re(T,["enter"])},null,544),[[_e,S.value]])])],4)]),e("section",ut,[e("div",vt,[e("div",{class:"dashboard-main",role:"button",tabindex:"0",onClick:t[5]||(t[5]=u=>r.value&&r.value.id!=="placeholder"&&r.value.id!=="error"?B(r.value):null),onKeydown:t[6]||(t[6]=re(Q(u=>r.value&&r.value.id!=="placeholder"&&r.value.id!=="error"?B(r.value):null,["prevent"]),["enter"]))},[e("div",ht,[e("img",{src:((c=r.value)==null?void 0:c.thumbnail)||"/static/img/default-cover.jpg",alt:"Live TV",class:"dash-bg"},null,8,pt),e("div",mt,[e("div",gt,[t[10]||(t[10]=e("span",{class:"live-badge"},"LIVE TV",-1)),e("span",ft,_(((j=h.value)==null?void 0:j.name)||"Channel 01 — Misc"),1)]),b.value.length>1?(d(),f("div",yt,[e("button",{type:"button",class:"channel-nav-btn","aria-label":"Previous channel",onClick:t[1]||(t[1]=Q(u=>U("prev"),["stop"]))},[...t[11]||(t[11]=[e("i",{class:"fas fa-chevron-left"},null,-1)])]),e("button",{type:"button",class:"channel-nav-btn","aria-label":"Next channel",onClick:t[2]||(t[2]=Q(u=>U("next"),["stop"]))},[...t[12]||(t[12]=[e("i",{class:"fas fa-chevron-right"},null,-1)])])])):J("",!0),e("div",wt,[e("h2",null,_(((V=r.value)==null?void 0:V.title)||"Loading..."),1),e("p",null,_(((C=r.value)==null?void 0:C.artist)||((z=r.value)==null?void 0:z.host)||""),1),e("div",kt,[r.value&&r.value.id!=="placeholder"&&r.value.id!=="error"?(d(),f("button",{key:0,type:"button",class:"dash-play-btn",onClick:t[3]||(t[3]=Q(u=>B(r.value),["stop"]))},[...t[13]||(t[13]=[e("i",{class:"fas fa-play"},null,-1),I(" Watch Now ",-1)])])):J("",!0),q(p,{to:"/live-tv",class:"dash-guide-btn",onClick:t[4]||(t[4]=Q(()=>{},["stop"]))},{default:N(()=>[...t[14]||(t[14]=[e("i",{class:"fas fa-tv"},null,-1),I(" View All Channels ",-1)])]),_:1})])])])])],32),e("div",_t,[t[18]||(t[18]=e("div",{class:"sidebar-header"},[e("h3",null,"Live Radio")],-1)),e("div",{class:ee(["dash-item radio-item",{active:F.value}])},[e("div",bt,[e("img",{src:((ne=n.value||P.value[0])==null?void 0:ne.cover_art)||"https://ahoy.ooo/images/Ahoy-Indie-Media-DEFAULT-COVER-A-8.jpg",alt:"Radio"},null,8,xt),t[15]||(t[15]=e("div",{class:"dash-icon"},[e("i",{class:"fas fa-broadcast-tower"})],-1))]),e("div",Ct,[t[16]||(t[16]=e("div",{class:"dash-label"},"On Air Now",-1)),e("h4",null,_(((le=n.value||P.value[0])==null?void 0:le.title)||"Loading..."),1),e("p",null,_(((oe=n.value||P.value[0])==null?void 0:oe.artist)||""),1)]),e("button",{type:"button",class:"dash-action-btn","aria-label":"Play/Pause radio",onClick:Q(se,["stop"])},[e("i",{class:ee(F.value?"fas fa-pause":"fas fa-play")},null,2)])],2),e("div",$t,[t[17]||(t[17]=e("div",{class:"list-label"},"Up Next",-1)),(d(!0),f(E,null,W(P.value.slice(0,3),u=>(d(),f("div",{key:u.id,class:"mini-track"},[e("span",Tt,_(u.title),1),e("span",Mt,_(u.artist),1)]))),128))])])]),b.value.length>1?(d(),f("div",Vt,[t[20]||(t[20]=e("div",{class:"tv-channel-strip-header"},[e("div",{class:"tv-channel-strip-title"},"Live TV Channels"),e("div",{class:"tv-channel-strip-subtitle"},"Tap a channel to switch")],-1)),e("div",Nt,[(d(!0),f(E,null,W(b.value,(u,K)=>(d(),f("button",{key:u.id,type:"button",class:ee(["tv-channel-strip-item",{active:h.value&&h.value.id===u.id}]),onClick:Q(Qt=>a(K),["stop"])},[e("div",At,[e("span",Zt,_(o(u,K)),1),t[19]||(t[19]=e("span",{class:"tv-channel-strip-live"},"LIVE",-1))]),e("div",Yt,_((M.value[u.id]||{}).title||"No content available"),1),L.value[u.id]?(d(),f("div",jt," Up next: "+_((L.value[u.id]||{}).title||""),1)):J("",!0)],10,St))),128))])])):J("",!0)]),q(ot),e("section",Et,[e("div",Wt,[e("div",It,[t[22]||(t[22]=e("h2",null,"What's New at Ahoy",-1)),!O.value&&k.value.length>0?(d(),f("a",Rt,[...t[21]||(t[21]=[I(" View All ",-1),e("i",{class:"fas fa-arrow-right"},null,-1)])])):J("",!0)]),Y(e("div",Lt,[...t[23]||(t[23]=[e("span",null,"Loading updates...",-1)])],512),[[ae,O.value]]),Y(e("div",Dt,[(d(!0),f(E,null,W(k.value,(u,K)=>(d(),f("a",{key:u.id||u.title||K,href:pe(u),class:ee(["whats-new-item clickable","type-"+(u.type||"update")])},[e("div",Ft,[e("h3",null,_(u.title),1),e("p",null,_(u.description),1),e("span",zt,_(he(u.date,u.type)),1)]),t[24]||(t[24]=e("div",{class:"whats-new-arrow"},[e("i",{class:"fas fa-chevron-right"})],-1))],10,Pt))),128))],512),[[ae,!O.value&&k.value.length>0]]),Y(e("div",Bt,[...t[25]||(t[25]=[e("p",null,"No updates available at this time.",-1),e("a",{href:"/whats-new",class:"view-archive-link"},"View Archive",-1)])],512),[[ae,!O.value&&k.value.length===0]])])])])}}};export{Gt as default};
