import{_ as m,c as i,d as l,e as s,h as w,f as p,l as v,x as _,t as f,i as y,j as h,k as g,m as r,p as k,E as b}from"./index-B4SlD-Pz.js";const x={class:"pw-wrap"},V={class:"pw-card"},N={class:"pw-label"},S=["disabled"],T={key:0},B={key:1},C={key:0,class:"pw-msg"},F={class:"pw-note"},D={__name:"ForgotPasswordView",setup(E){const n=r(""),a=r(!1),t=r("");async function d(){a.value=!0,t.value="";try{const o=await b("/api/auth/password-reset/request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.value})}).catch(()=>({}));t.value=(o==null?void 0:o.message)||"If that email exists, we sent a reset link."}catch{t.value="If that email exists, we sent a reset link."}finally{a.value=!1}}return(o,e)=>{const u=k("router-link");return i(),l("div",x,[s("div",V,[e[3]||(e[3]=s("h1",{class:"pw-title"},"Forgot your password? No stress ðŸ˜„",-1)),e[4]||(e[4]=s("p",{class:"pw-sub"},"Drop your email and we'll send you a magic reset link (expires in 1 hour).",-1)),s("form",{class:"pw-form",onSubmit:w(d,["prevent"])},[s("label",N,[e[1]||(e[1]=p(" Email ",-1)),v(s("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>n.value=c),class:"pw-input",type:"email",autocomplete:"email",placeholder:"you@example.com",required:""},null,512),[[_,n.value,void 0,{trim:!0}]])]),s("button",{type:"submit",class:"btn btn-primary",disabled:a.value},[a.value?(i(),l("span",B,"Sendingâ€¦")):(i(),l("span",T,"Send reset link âœ‰ï¸"))],8,S)],32),t.value?(i(),l("div",C,f(t.value),1)):y("",!0),e[5]||(e[5]=s("div",{class:"pw-note"},"Tip: We'll always show success here (even if the email isn't registered) to keep accounts private.",-1)),s("div",F,[h(u,{to:"/login"},{default:g(()=>[...e[2]||(e[2]=[p("Back to sign in",-1)])]),_:1})])])])}}},P=m(D,[["__scopeId","data-v-e61e17fe"]]);export{P as default};
