import{_ as P,n as j,u as H,o as I,a as y,c as l,d as i,e as s,k as f,F as b,t as n,l as p,x as k,g as r,f as A,H as L,m as g,z as D,I as E,K,r as Q,s as R,h as q,i as G}from"./index-Ddfj5B8F.js";const J={class:"artist-page-container"},O={key:0,class:"loading-state"},U={class:"glass-panel artist-hero-panel"},W={class:"panel-header"},X={class:"header-text"},Y={class:"hero-body"},Z={class:"hero-avatar-wrapper"},ss=["src","alt"],ts={class:"hero-info"},as={key:0,class:"hero-bio"},es={class:"hero-actions"},os={key:0,class:"glass-panel music-panel"},ls={class:"panel-header"},is={class:"header-text"},ns={class:"track-list"},rs=["onClick"],cs={class:"track-art"},ds=["src"],us={class:"track-overlay"},vs={class:"track-info"},hs={class:"track-title"},_s={class:"track-meta"},fs=["onClick"],ps={key:1,class:"glass-panel video-panel"},ks={class:"panel-header"},gs={class:"header-text"},ms={class:"video-grid"},ys={class:"video-thumb"},bs=["src"],ws={class:"video-title"},xs={key:2,class:"glass-panel empty-panel"},Ss={key:2,class:"loading-state"},Cs={__name:"ArtistDetailView",setup(Bs){const T=L(),h=j(),c=H(),{shareArtist:V}=K(),w=E(),x=g(!0),a=g(null),S=g([]),C=g([]),d=D(()=>a.value?S.value.filter(e=>e.artist===a.value.name||e.artist_id===a.value.id):[]),_=D(()=>a.value?C.value.filter(e=>e.host===a.value.name||e.host_id===a.value.id):[]);function F(e){if(!e)return"";const t=Math.floor(e/60),u=Math.floor(e%60);return`${t}:${u.toString().padStart(2,"0")}`}function M(){w.onBookmark(),c.toggle({...a.value,_type:"artist"})}function $(){w.light(),V(a.value)}function z(e){h.setQueue(d.value,e)}return I(async()=>{const e=T.params.slug;try{const[t,u,o]=await Promise.all([y("/api/artists").catch(()=>({artists:[]})),y("/api/music").catch(()=>({tracks:[]})),y("/api/shows").catch(()=>({shows:[]}))]),m=t.artists||[];S.value=u.tracks||[],C.value=o.shows||[],a.value=m.find(v=>v.slug===e||String(v.id)===String(e))||null}catch(t){console.error(t)}finally{x.value=!1}}),(e,t)=>{const u=Q("router-link");return l(),i("div",J,[x.value?(l(),i("div",O,[...t[0]||(t[0]=[s("div",{class:"glass-panel text-center"},[s("i",{class:"fas fa-spinner fa-spin"}),f(" Loading Artist... ")],-1)])])):a.value?(l(),i(b,{key:1},[s("section",U,[s("div",W,[t[1]||(t[1]=s("div",{class:"header-icon icon-white"},[s("i",{class:"fas fa-user-astronaut"})],-1)),s("div",X,[s("h1",null,n(a.value.name),1),s("p",null,n(a.value.genre||"Artist"),1)])]),s("div",Y,[s("div",Z,[s("img",{src:a.value.image||"/static/img/default-avatar.png",alt:a.value.name,class:"hero-avatar"},null,8,ss)]),s("div",ts,[a.value.bio?(l(),i("div",as,n(a.value.bio),1)):p("",!0),s("div",es,[s("button",{class:"action-btn btn-white",onClick:M},[s("i",{class:k(r(c).isBookmarked(a.value)?"fas fa-check":"fas fa-plus")},null,2),f(" "+n(r(c).isBookmarked(a.value)?"Following":"Follow"),1)]),s("button",{class:"action-btn btn-glass",onClick:$},[...t[2]||(t[2]=[s("i",{class:"fas fa-share-alt"},null,-1),f(" Share ",-1)])])])])])]),d.value.length?(l(),i("section",os,[s("div",ls,[t[4]||(t[4]=s("div",{class:"header-icon icon-green"},[s("i",{class:"fas fa-music"})],-1)),s("div",is,[t[3]||(t[3]=s("h2",null,"Music",-1)),s("p",null,n(d.value.length)+" Tracks",1)])]),s("div",ns,[(l(!0),i(b,null,A(d.value,(o,m)=>{var v,B;return l(),i("div",{key:o.id,class:k(["track-row",{playing:((v=r(h).currentTrack)==null?void 0:v.id)===o.id}]),onClick:N=>z(m)},[s("div",cs,[s("img",{src:o.cover_art||"/static/img/default-cover.jpg",loading:"lazy"},null,8,ds),s("div",us,[s("i",{class:k(((B=r(h).currentTrack)==null?void 0:B.id)===o.id&&r(h).isPlaying?"fas fa-pause":"fas fa-play")},null,2)])]),s("div",vs,[s("div",hs,n(o.title),1),s("div",_s,n(F(o.duration_seconds)),1)]),s("button",{class:"track-action",onClick:R(N=>r(c).toggle({...o,_type:"track"}),["stop"])},[s("i",{class:k(r(c).isBookmarked(o)?"fas fa-bookmark":"far fa-bookmark")},null,2)],8,fs)],10,rs)}),128))])])):p("",!0),_.value.length?(l(),i("section",ps,[s("div",ks,[t[6]||(t[6]=s("div",{class:"header-icon icon-magenta"},[s("i",{class:"fas fa-video"})],-1)),s("div",gs,[t[5]||(t[5]=s("h2",null,"Videos",-1)),s("p",null,n(_.value.length)+" Videos",1)])]),s("div",ms,[(l(!0),i(b,null,A(_.value,o=>(l(),q(u,{key:o.id,to:`/videos?play=${o.id}`,class:"video-card"},{default:G(()=>[s("div",ys,[s("img",{src:o.thumbnail||"/static/img/default-cover.jpg",loading:"lazy"},null,8,bs),t[7]||(t[7]=s("div",{class:"play-overlay"},[s("i",{class:"fas fa-play"})],-1))]),s("div",ws,n(o.title),1)]),_:2},1032,["to"]))),128))])])):p("",!0),!d.value.length&&!_.value.length?(l(),i("section",xs,[...t[8]||(t[8]=[s("i",{class:"fas fa-ghost"},null,-1),s("p",null,"No content found for this artist yet.",-1)])])):p("",!0)],64)):(l(),i("div",Ss,[...t[9]||(t[9]=[s("div",{class:"glass-panel text-center"},[s("i",{class:"fas fa-exclamation-triangle"}),f(" Artist not found ")],-1)])]))])}}},Ds=P(Cs,[["__scopeId","data-v-cbfc30b7"]]);export{Ds as default};
