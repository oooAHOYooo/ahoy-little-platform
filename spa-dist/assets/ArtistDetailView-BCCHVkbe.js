import{u as j,s as P,o as q,a as f,b as i,c as l,d as s,l as E,t as n,e as v,n as k,j as c,F as $,r as z,v as H,x as I,h as m,p as A,y as L,z as Q,i as R,A as D,k as G,w as J}from"./index-BS6VIDXW.js";const K={key:0,class:"artist-detail-page"},O={class:"artist-hero-banner"},U={class:"hero-content-wrapper"},W={class:"hero-content"},X={class:"hero-avatar"},Y=["src","alt"],Z={class:"hero-info"},ss={class:"hero-name"},ts={class:"hero-genre"},as={key:0,class:"hero-bio"},es={class:"hero-actions"},os={key:0,class:"podcasts-section"},is={class:"podcasts-section-header"},ls={class:"queue-count-badge"},ns={class:"episode-list"},cs=["onClick"],rs=["src","alt"],ds={class:"episode-meta"},us={class:"episode-title"},hs={key:0,class:"episode-show"},vs={class:"episode-actions"},ps=["onClick"],_s=["onClick"],gs={key:1,class:"podcasts-section"},ks={class:"podcasts-section-header"},ms={class:"queue-count-badge"},fs={class:"shows-grid"},ys={class:"show-thumbnail"},bs=["src","alt"],ws={class:"show-info"},Ss={class:"show-title"},xs={key:2,class:"podcasts-section"},Cs={class:"empty-state",style:{"text-align":"center",padding:"40px 20px",color:"rgba(255,255,255,0.5)"}},Bs={key:1,class:"artist-detail-page"},As={__name:"ArtistDetailView",setup($s){const F=I(),p=j(),r=P(),{shareArtist:M}=Q(),y=L(),b=m(!0),t=m(null),w=m([]),S=m([]),d=A(()=>t.value?w.value.filter(o=>o.artist===t.value.name||o.artist_id===t.value.id):[]),_=A(()=>t.value?S.value.filter(o=>o.host===t.value.name||o.host_id===t.value.id):[]);function T(o){if(!o)return"";const a=Math.floor(o/60),u=Math.floor(o%60);return`${a}:${u.toString().padStart(2,"0")}`}function V(){y.onBookmark(),r.toggle({...t.value,_type:"artist"})}function N(){y.light(),M(t.value)}function x(o){p.setQueue(d.value,o)}return q(async()=>{const o=F.params.slug,[a,u,e]=await Promise.all([f("/api/artists").catch(()=>({artists:[]})),f("/api/music").catch(()=>({tracks:[]})),f("/api/shows").catch(()=>({shows:[]}))]),g=a.artists||[];w.value=u.tracks||[],S.value=e.shows||[],t.value=g.find(h=>h.slug===o||String(h.id)===String(o))||null,b.value=!1}),(o,a)=>{const u=R("router-link");return t.value?(i(),l("div",K,[s("section",O,[a[1]||(a[1]=s("div",{class:"hero-bg-overlay"},null,-1)),s("div",{class:"hero-bg-image",style:E({backgroundImage:`url(${t.value.image||"/static/img/default-avatar.png"})`})},null,4),s("div",U,[s("div",W,[s("div",X,[s("img",{src:t.value.image||"/static/img/default-avatar.png",alt:t.value.name,class:"avatar-image"},null,8,Y)]),s("div",Z,[s("h1",ss,n(t.value.name),1),s("p",ts,n(t.value.genre||t.value.type||"Artist"),1),t.value.bio?(i(),l("p",as,n(t.value.bio),1)):v("",!0),s("div",es,[s("button",{class:"follow-button",onClick:V},[s("i",{class:k(c(r).isBookmarked(t.value)?"fas fa-check":"fas fa-plus")},null,2),s("span",null,n(c(r).isBookmarked(t.value)?"Following":"Follow Artist"),1)]),s("button",{class:"follow-button",onClick:N,style:{background:"rgba(255,255,255,0.08)"}},[...a[0]||(a[0]=[s("i",{class:"fas fa-share-alt"},null,-1),s("span",null,"Share",-1)])])])])])])]),d.value.length?(i(),l("section",os,[s("div",is,[a[2]||(a[2]=s("h2",null,"Music",-1)),s("span",ls,n(d.value.length),1)]),s("div",ns,[(i(!0),l($,null,z(d.value,(e,g)=>{var h,C;return i(),l("article",{key:e.id,class:k(["episode-row",{playing:((h=c(p).currentTrack)==null?void 0:h.id)===e.id}]),onClick:B=>x(g)},[s("img",{class:"episode-art",src:e.cover_art||"/static/img/default-cover.jpg",alt:e.title,loading:"lazy"},null,8,rs),s("div",ds,[s("div",us,n(e.title),1),e.duration_seconds?(i(),l("div",hs,n(T(e.duration_seconds)),1)):v("",!0)]),s("div",vs,[s("button",{class:"episode-btn",onClick:D(B=>x(g),["stop"])},[s("i",{class:k(((C=c(p).currentTrack)==null?void 0:C.id)===e.id&&c(p).isPlaying?"fas fa-pause":"fas fa-play")},null,2)],8,ps),s("button",{class:"episode-btn",onClick:D(B=>c(r).toggle({...e,_type:"track"}),["stop"])},[s("i",{class:k(c(r).isBookmarked(e)?"fas fa-bookmark":"far fa-bookmark")},null,2)],8,_s)])],10,cs)}),128))])])):v("",!0),_.value.length?(i(),l("section",gs,[s("div",ks,[a[3]||(a[3]=s("h2",null,"Videos",-1)),s("span",ms,n(_.value.length),1)]),s("div",fs,[(i(!0),l($,null,z(_.value,e=>(i(),G(u,{key:e.id,to:`/shows/${e.id}`,class:"show-card"},{default:J(()=>[s("div",ys,[s("img",{src:e.thumbnail||"/static/img/default-cover.jpg",alt:e.title,loading:"lazy"},null,8,bs),a[4]||(a[4]=s("div",{class:"show-overlay"},[s("button",{class:"play-btn"},[s("i",{class:"fas fa-play"})])],-1))]),s("div",ws,[s("div",Ss,n(e.title),1)])]),_:2},1032,["to"]))),128))])])):v("",!0),!d.value.length&&!_.value.length&&!b.value?(i(),l("section",xs,[s("div",Cs,[a[5]||(a[5]=s("i",{class:"fas fa-music",style:{"font-size":"48px","margin-bottom":"16px",display:"block"}},null,-1)),s("p",null,"No content available yet for "+n(t.value.name),1)])])):v("",!0)])):(i(),l("div",Bs,[...a[6]||(a[6]=[H('<section class="artist-hero-banner"><div class="hero-content-wrapper"><div class="hero-content"><div class="hero-avatar"><div class="skeleton" style="width:120px;height:120px;border-radius:50%;"></div></div><div class="hero-info"><div class="skeleton" style="height:28px;width:60%;margin-bottom:8px;"></div><div class="skeleton" style="height:16px;width:40%;"></div></div></div></div></section>',1)])]))}}};export{As as default};
