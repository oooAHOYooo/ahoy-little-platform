import{_ as k,b as o,c as l,d as e,h as _,n as h,F as b,e as p,q as m,y as w,t as u,i as v,U as F,j as c,$ as T,p as x,E as C}from"./index-DKIbx5E3.js";const V={class:"feedback-page"},S={class:"feedback-container"},B={class:"form-section"},D={class:"feedback-types"},E=["value"],N={class:"form-section"},R={class:"star-rating"},U=["onClick"],q={class:"form-section"},M=["disabled"],j={key:0,class:"feedback-success"},I={key:1,class:"feedback-error"},O={__name:"FeedbackView",setup(P){const y=[{value:"general",label:"General"},{value:"ui",label:"UI/Design"},{value:"performance",label:"Performance"},{value:"bug",label:"Bug Report"},{value:"feature",label:"Feature Request"}],a=F({type:"general",rating:5,message:""}),n=c(!1),d=c(!1),r=c("");async function g(){if(a.message.trim()){n.value=!0,r.value="",d.value=!1;try{await C("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:a.type,rating:a.rating,message:a.message.trim()})}),d.value=!0,a.message="",window.dispatchEvent(new CustomEvent("ahoy:toast",{detail:{message:"Thank you for your feedback!",type:"success"}}))}catch(i){r.value=(i==null?void 0:i.message)||"Could not send. Try again."}finally{n.value=!1}}}return(i,s)=>(o(),l("div",V,[s[6]||(s[6]=e("section",{class:"podcasts-hero feedback-hero"},[e("div",{class:"podcasts-hero-inner"},[e("h1",null,[e("i",{class:"fas fa-comment-dots","aria-hidden":"true"}),_(" Feedback")]),e("p",null,"Help us improve by sharing what you think.")])],-1)),e("div",S,[e("form",{class:"feedback-form",onSubmit:h(g,["prevent"])},[e("div",B,[s[2]||(s[2]=e("h3",null,"What type of feedback?",-1)),e("div",D,[(o(),l(b,null,p(y,t=>e("label",{key:t.value,class:"feedback-type-label"},[m(e("input",{"onUpdate:modelValue":s[0]||(s[0]=f=>a.type=f),type:"radio",value:t.value},null,8,E),[[T,a.type]]),e("span",null,u(t.label),1)])),64))])]),e("div",N,[s[4]||(s[4]=e("h3",null,"Rating (1–5)",-1)),e("div",R,[(o(),l(b,null,p(5,t=>e("button",{key:t,type:"button",class:x(["star-btn",{on:a.rating>=t}]),onClick:f=>a.rating=t},[...s[3]||(s[3]=[e("i",{class:"fas fa-star"},null,-1)])],10,U)),64))])]),e("div",q,[s[5]||(s[5]=e("label",{for:"fb-message"},"Your feedback *",-1)),m(e("textarea",{id:"fb-message","onUpdate:modelValue":s[1]||(s[1]=t=>a.message=t),class:"feedback-textarea",rows:"4",placeholder:"Tell us more…",required:""},null,512),[[w,a.message]])]),e("button",{type:"submit",class:"feedback-submit",disabled:n.value},u(n.value?"Sending…":"Send Feedback"),9,M),d.value?(o(),l("p",j,"Thank you! We got your feedback.")):v("",!0),r.value?(o(),l("p",I,u(r.value),1)):v("",!0)],32)])]))}},$=k(O,[["__scopeId","data-v-7b48e602"]]);export{$ as default};
