import{_ as w,b as l,c as n,d as s,n as g,A as _,D as c,E as m,e as h,j as u,t as y,h as p,G as k,H as C}from"./index-BS6VIDXW.js";const x={class:"auth-page"},V={class:"auth-card"},A={class:"auth-tabs"},E={key:0,class:"auth-field"},U={class:"auth-field"},L={class:"auth-field"},S={key:1,class:"auth-error"},B=["disabled"],D={key:0,class:"fas fa-spinner fa-spin"},I={key:1},$={__name:"LoginView",setup(q){const f=C(),o=k(),t=p("login"),i=p(""),r=p(""),v=p("");async function b(){let d;t.value==="login"?d=await o.login(i.value,r.value):d=await o.signup(i.value,r.value,v.value),d.success&&(window.dispatchEvent(new CustomEvent("ahoy:toast",{detail:{message:t.value==="login"?"Welcome back!":"Account created!",type:"success"}})),f.push("/"))}return(d,e)=>(l(),n("div",x,[s("div",V,[e[9]||(e[9]=s("div",{class:"auth-logo"},[s("i",{class:"fas fa-anchor",style:{"font-size":"36px",color:"var(--accent-primary,#6ddcff)"}}),s("h1",null,"Ahoy")],-1)),s("div",A,[s("button",{class:g({active:t.value==="login"}),onClick:e[0]||(e[0]=a=>t.value="login")},"Log In",2),s("button",{class:g({active:t.value==="signup"}),onClick:e[1]||(e[1]=a=>t.value="signup")},"Sign Up",2)]),s("form",{onSubmit:_(b,["prevent"]),class:"auth-form"},[t.value==="signup"?(l(),n("div",E,[e[6]||(e[6]=s("label",{for:"username"},"Username",-1)),c(s("input",{id:"username","onUpdate:modelValue":e[2]||(e[2]=a=>v.value=a),type:"text",placeholder:"your name",autocomplete:"username"},null,512),[[m,v.value]])])):h("",!0),s("div",U,[e[7]||(e[7]=s("label",{for:"email"},"Email",-1)),c(s("input",{id:"email","onUpdate:modelValue":e[3]||(e[3]=a=>i.value=a),type:"email",placeholder:"you@example.com",autocomplete:"email",required:""},null,512),[[m,i.value]])]),s("div",L,[e[8]||(e[8]=s("label",{for:"password"},"Password",-1)),c(s("input",{id:"password","onUpdate:modelValue":e[4]||(e[4]=a=>r.value=a),type:"password",placeholder:"••••••••",autocomplete:"current-password",required:""},null,512),[[m,r.value]])]),u(o).error.value?(l(),n("div",S,y(u(o).error.value),1)):h("",!0),s("button",{type:"submit",class:"auth-submit",disabled:u(o).loading.value},[u(o).loading.value?(l(),n("i",D)):(l(),n("span",I,y(t.value==="login"?"Log In":"Create Account"),1))],8,B)],32),s("button",{class:"auth-skip",onClick:e[5]||(e[5]=a=>u(f).push("/"))}," Continue as Guest ")])]))}},G=w($,[["__scopeId","data-v-1c7d6772"]]);export{G as default};
