import{a as p}from"./useApi-yOrUYmt7.js";import{u as m,o as y,a as e,c as i,b as s,t as o,F as _,r as h,g as f,n as v,i as r}from"./index-BReVcDmu.js";const g={class:"music-container"},x={class:"unified-header music-subheader"},b={class:"header-content"},w={class:"header-count"},C={key:0,class:"music-grid"},B=["onClick"],F={class:"track-cover"},M=["src","alt"],S={class:"track-overlay"},T={class:"play-btn"},z={class:"track-info"},P={class:"track-title"},V={class:"track-artist"},D={key:1,class:"music-grid"},Q={__name:"MusicView",setup(E){const c=m(),a=f([]);function k(n){c.setQueue(a.value,a.value.indexOf(n))}return y(async()=>{const n=await p("/api/music").catch(()=>({tracks:[]}));a.value=n.tracks||[]}),(n,l)=>(e(),i("div",g,[s("div",x,[s("div",b,[l[0]||(l[0]=s("h1",null,"Music",-1)),s("span",w,o(a.value.length)+" tracks",1)])]),a.value.length?(e(),i("div",C,[(e(!0),i(_,null,h(a.value,t=>{var d,u;return e(),i("div",{key:t.id,class:v(["track-card",{playing:((d=r(c).currentTrack)==null?void 0:d.id)===t.id}]),onClick:L=>k(t)},[s("div",F,[s("img",{src:t.cover_art,alt:t.title,loading:"lazy"},null,8,M),s("div",S,[s("button",T,[s("i",{class:v(((u=r(c).currentTrack)==null?void 0:u.id)===t.id&&r(c).isPlaying?"fas fa-pause":"fas fa-play")},null,2)])])]),s("div",z,[s("div",P,o(t.title),1),s("div",V,o(t.artist),1)])],10,B)}),128))])):(e(),i("div",D,[(e(),i(_,null,h(8,t=>s("div",{class:"track-card",key:t},[...l[1]||(l[1]=[s("div",{class:"track-cover skeleton"},null,-1),s("div",{class:"track-info"},[s("div",{class:"skeleton",style:{height:"14px",width:"60%","margin-bottom":"6px"}}),s("div",{class:"skeleton",style:{height:"12px",width:"40%"}})],-1)])])),64))]))]))}};export{Q as default};
