import{_ as y,o as h,l as f,b as s,c as t,d as a,t as n,F as g,e as k,i as w,j as m,H as b,O as N}from"./index-DKIbx5E3.js";const P={class:"playlist-detail-page"},C={class:"unified-header"},V={class:"header-content"},x={class:"header-count"},B={key:0,class:"loading"},D={key:1,class:"error"},E={key:2,class:"playlist-items"},I={class:"item-media"},R=["onClick"],A={key:0,class:"empty"},F={__name:"PlaylistDetailView",setup(L){const c=b(),d=N(),r=m(null),l=m([]),u=m(!0);async function _(){const e=c.params.id;if(e){u.value=!0;try{r.value=await d.get(Number(e)),l.value=await d.listItems(Number(e))}finally{u.value=!1}}}async function p(e){try{await d.removeItem(Number(c.params.id),e),l.value=l.value.filter(i=>i.id!==e),window.dispatchEvent(new CustomEvent("ahoy:toast",{detail:{message:"Removed",type:"success"}}))}catch{}}return h(_),f(()=>c.params.id,_),(e,i)=>{var v;return s(),t("div",P,[a("div",C,[a("div",V,[a("h1",null,n(((v=r.value)==null?void 0:v.name)||"Playlist"),1),a("span",x,n(l.value.length)+" items",1)])]),u.value?(s(),t("div",B,"Loading...")):r.value?(s(),t("div",E,[(s(!0),t(g,null,k(l.value,o=>(s(),t("div",{key:o.id,class:"playlist-item-row"},[a("span",I,n(o.media_type)+": "+n(o.media_id),1),a("button",{type:"button",class:"item-remove","aria-label":"Remove",onClick:M=>p(o.id)},[...i[0]||(i[0]=[a("i",{class:"fas fa-times"},null,-1)])],8,R)]))),128)),l.value.length?w("",!0):(s(),t("p",A,"No tracks yet. Add from Music or Podcasts."))])):(s(),t("div",D,"Playlist not found."))])}}},H=y(F,[["__scopeId","data-v-2498d0ed"]]);export{H as default};
