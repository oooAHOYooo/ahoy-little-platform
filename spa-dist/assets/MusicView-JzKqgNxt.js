import{a as h}from"./useApi-yOrUYmt7.js";import{u as p,o as m,a as l,c as n,b as s,t as o,F as d,r as u,g as f,n as g,i as k}from"./index-CkkoZ8r2.js";const y={class:"page-header"},x={key:0,class:"track-list"},S=["onClick"],w=["src","alt"],C={class:"info"},M={class:"title"},b={class:"artist"},B={class:"duration"},F={key:1,class:"track-list"},V={__name:"MusicView",setup($){const r=p(),a=f([]);function v(e){r.setQueue(a.value,a.value.indexOf(e))}function _(e){if(!e)return"";const i=Math.floor(e/60),t=e%60;return`${i}:${t.toString().padStart(2,"0")}`}return m(async()=>{const e=await h("/api/music").catch(()=>({tracks:[]}));a.value=e.tracks||[]}),(e,i)=>(l(),n("div",null,[s("div",y,[i[0]||(i[0]=s("h1",null,"Music",-1)),s("p",null,o(a.value.length)+" tracks",1)]),a.value.length?(l(),n("div",x,[(l(!0),n(d,null,u(a.value,t=>{var c;return l(),n("div",{key:t.id,class:g(["track-item",{playing:((c=k(r).currentTrack)==null?void 0:c.id)===t.id}]),onClick:z=>v(t)},[s("img",{src:t.cover_art,alt:t.title,class:"cover",loading:"lazy"},null,8,w),s("div",C,[s("div",M,o(t.title),1),s("div",b,o(t.artist)+" Â· "+o(t.album),1)]),s("div",B,o(_(t.duration_seconds)),1)],10,S)}),128))])):(l(),n("div",F,[(l(),n(d,null,u(8,t=>s("div",{class:"track-item",key:t},[...i[1]||(i[1]=[s("div",{class:"cover skeleton"},null,-1),s("div",{class:"info"},[s("div",{class:"skeleton",style:{height:"14px",width:"60%","margin-bottom":"6px"}}),s("div",{class:"skeleton",style:{height:"12px",width:"40%"}})],-1)])])),64))]))]))}};export{V as default};
