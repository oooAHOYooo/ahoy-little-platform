import{a as _}from"./useApi-yOrUYmt7.js";import{u as w,o as f,a as l,c as a,b as s,d as h,w as m,e as y,F as c,r as n,f as b,g as p,h as x,t as i}from"./index-CkkoZ8r2.js";const S={class:"section-header"},C={key:0,class:"scroll-row"},A=["onClick"],D=["src","alt"],V={class:"card-body"},N={class:"card-title"},z={class:"card-subtitle"},B={key:1,class:"scroll-row"},F={class:"section-header"},M={key:2,class:"scroll-row"},P=["src","alt"],T={class:"card-body"},E={class:"card-title"},H={class:"card-subtitle"},I={key:3,class:"scroll-row"},L={class:"section-header"},O={key:4,class:"scroll-row"},Q=["src","alt"],$={class:"card-body"},j={class:"card-title"},q={class:"card-subtitle"},U={__name:"HomeView",setup(G){const g=w(),o=p([]),u=p([]),v=p([]);function k(r){g.setQueue(o.value,o.value.indexOf(r))}return f(async()=>{const[r,t,d]=await Promise.all([_("/api/music").catch(()=>({tracks:[]})),_("/api/shows").catch(()=>({shows:[]})),_("/api/artists").catch(()=>({artists:[]}))]);o.value=r.tracks||[],u.value=t.shows||[],v.value=d.artists||[]}),(r,t)=>{const d=x("router-link");return l(),a("div",null,[t[8]||(t[8]=s("div",{class:"page-header"},[s("h1",null,"Ahoy Indie Media"),s("p",null,"Discover independent music, shows & podcasts")],-1)),s("div",S,[t[1]||(t[1]=s("h2",null,"Music",-1)),h(d,{to:"/music",class:"see-all"},{default:m(()=>[...t[0]||(t[0]=[y("See All",-1)])]),_:1})]),o.value.length?(l(),a("div",C,[(l(!0),a(c,null,n(o.value.slice(0,10),e=>(l(),a("div",{class:"card",key:e.id,onClick:J=>k(e)},[s("img",{src:e.cover_art,alt:e.title,class:"card-image",loading:"lazy"},null,8,D),s("div",V,[s("div",N,i(e.title),1),s("div",z,i(e.artist),1)])],8,A))),128))])):(l(),a("div",B,[(l(),a(c,null,n(5,e=>s("div",{class:"card",key:e},[...t[2]||(t[2]=[s("div",{class:"card-image skeleton"},null,-1),s("div",{class:"card-body"},[s("div",{class:"skeleton",style:{height:"14px",width:"80%"}})],-1)])])),64))])),s("div",F,[t[4]||(t[4]=s("h2",null,"Shows",-1)),h(d,{to:"/shows",class:"see-all"},{default:m(()=>[...t[3]||(t[3]=[y("See All",-1)])]),_:1})]),u.value.length?(l(),a("div",M,[(l(!0),a(c,null,n(u.value.slice(0,10),e=>(l(),a("div",{class:"card",key:e.id},[s("img",{src:e.thumbnail,alt:e.title,class:"card-image",loading:"lazy"},null,8,P),s("div",T,[s("div",E,i(e.title),1),s("div",H,i(e.host),1)])]))),128))])):(l(),a("div",I,[(l(),a(c,null,n(5,e=>s("div",{class:"card",key:e},[...t[5]||(t[5]=[s("div",{class:"card-image skeleton"},null,-1),s("div",{class:"card-body"},[s("div",{class:"skeleton",style:{height:"14px",width:"80%"}})],-1)])])),64))])),s("div",L,[t[7]||(t[7]=s("h2",null,"Artists",-1)),h(d,{to:"/artists",class:"see-all"},{default:m(()=>[...t[6]||(t[6]=[y("See All",-1)])]),_:1})]),v.value.length?(l(),a("div",O,[(l(!0),a(c,null,n(v.value.slice(0,10),e=>(l(),a("div",{class:"card",key:e.id},[s("img",{src:e.image,alt:e.name,class:"card-image",loading:"lazy"},null,8,Q),s("div",$,[s("div",j,i(e.name),1),s("div",q,i(e.type),1)])]))),128))])):b("",!0)])}}};export{U as default};
