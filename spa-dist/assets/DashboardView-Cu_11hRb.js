import{_ as $,u as x,n as U,o as V,a as A,c as i,d as l,e as t,j as p,i as n,F as k,f as _,k as v,w as y,B as D,v as I,g,m as h,r as N,z as w,h as F,t as b}from"./index-CtxnXRQ6.js";const E={class:"dashboard-page"},L={class:"dashboard-sidebars"},M={class:"dashboard-sidebar dashboard-left desktop-only"},R={class:"sidebar-content"},T={class:"sidebar-panel sidebar-item"},P={class:"sidebar-panel sidebar-item"},Q={class:"sidebar-bookmarks"},z={key:1,class:"sidebar-empty"},O={class:"sidebar-panel sidebar-item tip-jar-compact"},G=["value"],H={class:"tip-jar-amount-row"},J=["href"],K={class:"dashboard-main"},W={class:"content-area content-pad-bottom"},X={class:"dashboard-sidebar dashboard-right desktop-only"},Y={class:"sidebar-content"},Z={key:0,class:"queue-list"},ss=["onClick"],ts=["src","alt"],es={class:"queue-item-info"},as={class:"queue-item-title"},os={class:"queue-item-artist"},is={key:1,class:"sidebar-empty"},ls={__name:"DashboardView",setup(rs){const S="https://app.ahoy.ooo",j=x(),d=U(),f=w(()=>{const a=j.bookmarks.value;return Object.entries(a).map(([s,o])=>({key:s,...o}))});function q(a){const s=(a.type||a._type||"track").toLowerCase(),o=a.id||a.slug;return s==="artist"?`/artists/${a.slug||o}`:s==="show"?`/videos/${o}`:s==="podcast"||s==="clip"?`/podcasts/${a.slug||o}`:`/music/${o}`}const m=h([]),u=h(""),r=h(1),B=w(()=>!u.value||!r.value||r.value<.5?"#":`${S}/checkout?type=boost&artist_id=${encodeURIComponent(u.value)}&amount=${encodeURIComponent(r.value)}`);function C(a){const s=d.queue;s[a]&&d.play(s[a])}return V(async()=>{try{const a=await A("/api/artists");m.value=a.artists||[]}catch{m.value=[]}}),(a,s)=>{const o=N("router-link");return i(),l("div",E,[t("div",L,[t("aside",M,[t("div",R,[t("div",T,[s[3]||(s[3]=t("div",{class:"section-title"},"Search",-1)),p(o,{to:"/search",class:"sidebar-search-link"},{default:n(()=>[...s[2]||(s[2]=[t("i",{class:"fas fa-search"},null,-1),t("span",null,"Search music, artists, podcasts...",-1)])]),_:1})]),t("div",P,[s[6]||(s[6]=t("div",{class:"section-title"},"Saved",-1)),t("div",Q,[f.value.length?(i(!0),l(k,{key:0},_(f.value,(e,c)=>(i(),F(o,{key:c,to:q(e),class:"sidebar-list-item"},{default:n(()=>[s[4]||(s[4]=t("i",{class:"fas fa-bookmark"},null,-1)),t("span",null,b(e.title),1)]),_:2},1032,["to"]))),128)):(i(),l("p",z,"No saved items"))]),p(o,{to:"/my-saves",class:"sidebar-see-all"},{default:n(()=>[...s[5]||(s[5]=[v("See all",-1)])]),_:1})]),t("div",O,[s[10]||(s[10]=t("div",{class:"section-title"},"Boost",-1)),s[11]||(s[11]=t("p",{class:"tip-jar-copy"},"Support an artist — 100% goes to them.",-1)),y(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>u.value=e),class:"tip-jar-select","aria-label":"Select artist"},[s[7]||(s[7]=t("option",{value:""},"Select artist…",-1)),(i(!0),l(k,null,_(m.value,e=>(i(),l("option",{key:e.id,value:e.id||e.name},b(e.name),9,G))),128))],512),[[D,u.value]]),t("div",H,[s[8]||(s[8]=t("span",{class:"tip-jar-currency"},"$",-1)),y(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>r.value=e),type:"number",min:"0.5",step:"0.5",placeholder:"1",class:"tip-jar-amount"},null,512),[[I,r.value,void 0,{number:!0}]])]),t("a",{href:B.value,class:"tip-jar-submit",target:"_blank",rel:"noopener"},[...s[9]||(s[9]=[t("i",{class:"fas fa-bolt"},null,-1),v(" Boost ",-1)])],8,J)])])]),t("div",K,[t("div",W,[s[13]||(s[13]=t("div",{class:"unified-header"},[t("div",{class:"header-content"},[t("h1",null,"Dashboard")])],-1)),s[14]||(s[14]=t("p",{class:"dashboard-welcome"},"Use the sidebars to search, open saved items, boost artists, and see what’s up next.",-1)),p(o,{to:"/",class:"dashboard-link"},{default:n(()=>[...s[12]||(s[12]=[v("Explore home",-1)])]),_:1})])]),t("aside",X,[s[16]||(s[16]=t("div",{class:"sidebar-header"},[t("h3",null,"Up Next")],-1)),t("div",Y,[g(d).queue.length?(i(),l("div",Z,[(i(!0),l(k,null,_(g(d).queue,(e,c)=>(i(),l("div",{key:c,class:"queue-item",onClick:ns=>C(c)},[t("img",{src:e.cover_art||e.thumbnail||e.artwork||"/static/img/default-cover.jpg",alt:e.title,class:"queue-item-art"},null,8,ts),t("div",es,[t("div",as,b(e.title),1),t("div",os,b(e.artist||e.host||""),1)])],8,ss))),128))])):(i(),l("div",is,"Queue is empty")),p(o,{to:"/music",class:"sidebar-see-all"},{default:n(()=>[...s[15]||(s[15]=[v("Add tracks",-1)])]),_:1})])])])])}}},us=$(ls,[["__scopeId","data-v-453bd627"]]);export{us as default};
