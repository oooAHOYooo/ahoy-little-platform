import{_ as b,c as o,d as l,e as s,n as h,h as k,l as m,x as _,i as p,t as g,P as x,j as C,k as V,f as E,B as i,m as c,p as L,L as U,s as A}from"./index-BHVn4BJX.js";const B={class:"auth-page"},N={class:"auth-card"},S={class:"auth-tabs"},D={key:0,class:"auth-field"},I={class:"auth-field"},M={for:"email"},T=["type","placeholder","autocomplete"],$={class:"auth-field"},q=["placeholder"],z={key:1,class:"auth-hint"},P={key:2,class:"auth-forgot"},j={key:3,class:"auth-error"},F=["disabled"],G={key:0,class:"fas fa-spinner fa-spin"},R={key:1},W={__name:"LoginView",setup(H){const f=A(),n=U(),t=c("login"),u=c(""),r=c(""),v=c("");async function y(){let d;t.value==="login"?d=await n.login(u.value,r.value):d=await n.signup(u.value,r.value,v.value),d.success&&(window.dispatchEvent(new CustomEvent("ahoy:toast",{detail:{message:t.value==="login"?"Welcome back!":"Account created!",type:"success"}})),f.push("/"))}return(d,e)=>{const w=L("router-link");return o(),l("div",B,[s("div",N,[e[9]||(e[9]=s("div",{class:"auth-logo"},[s("i",{class:"fas fa-anchor",style:{"font-size":"36px",color:"var(--accent-primary,#6ddcff)"}}),s("h1",null,"Ahoy")],-1)),s("div",S,[s("button",{class:h({active:t.value==="login"}),onClick:e[0]||(e[0]=a=>t.value="login")},"Log In",2),s("button",{class:h({active:t.value==="signup"}),onClick:e[1]||(e[1]=a=>t.value="signup")},"Sign Up",2)]),s("form",{onSubmit:k(y,["prevent"]),class:"auth-form"},[t.value==="signup"?(o(),l("div",D,[e[6]||(e[6]=s("label",{for:"username"},"Username",-1)),m(s("input",{id:"username","onUpdate:modelValue":e[2]||(e[2]=a=>v.value=a),type:"text",placeholder:"your name",autocomplete:"username"},null,512),[[_,v.value]])])):p("",!0),s("div",I,[s("label",M,g(t.value==="login"?"Email or username":"Email"),1),m(s("input",{id:"email","onUpdate:modelValue":e[3]||(e[3]=a=>u.value=a),type:t.value==="login"?"text":"email",placeholder:t.value==="login"?"e.g. alexadmin":"you@example.com",autocomplete:t.value==="login"?"username":"email",required:""},null,8,T),[[x,u.value]])]),s("div",$,[e[7]||(e[7]=s("label",{for:"password"},"Password",-1)),m(s("input",{id:"password","onUpdate:modelValue":e[4]||(e[4]=a=>r.value=a),type:"password",placeholder:t.value==="login"?"e.g. alexadmin":"••••••••",autocomplete:"current-password",required:""},null,8,q),[[_,r.value]])]),t.value==="login"?(o(),l("p",z,"Test account: alexadmin / alexadmin")):p("",!0),t.value==="login"?(o(),l("p",P,[C(w,{to:"/auth/forgot"},{default:V(()=>[...e[8]||(e[8]=[E("Forgot password?",-1)])]),_:1})])):p("",!0),i(n).error.value?(o(),l("div",j,g(i(n).error.value),1)):p("",!0),s("button",{type:"submit",class:"auth-submit",disabled:i(n).loading.value},[i(n).loading.value?(o(),l("i",G)):(o(),l("span",R,g(t.value==="login"?"Log In":"Create Account"),1))],8,F)],32),s("button",{class:"auth-skip",onClick:e[5]||(e[5]=a=>i(f).push("/"))}," Continue as Guest ")])])}}},K=b(W,[["__scopeId","data-v-56fb8965"]]);export{K as default};
