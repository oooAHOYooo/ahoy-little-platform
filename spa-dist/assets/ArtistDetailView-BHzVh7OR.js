import{_ as P,n as j,u as H,o as I,a as y,c as l,d as i,e as s,k as f,F as b,t as n,l as k,s as p,g as r,f as A,H as L,m as g,A as D,I as E,K,r as Q,y as R,h as q,i as G}from"./index-CvISaDOf.js";const J={class:"artist-page-container"},O={key:0,class:"loading-state"},U={class:"glass-panel artist-hero-panel"},W={class:"panel-header"},X={class:"header-text"},Y={class:"hero-body"},Z={class:"hero-avatar-wrapper"},ss=["src","alt"],as={class:"hero-info"},ts={key:0,class:"hero-bio"},es={class:"hero-actions"},os={key:0,class:"glass-panel music-panel"},ls={class:"panel-header"},is={class:"header-text"},ns={class:"track-list"},rs=["onClick"],cs={class:"track-art"},ds=["src"],us={class:"track-overlay"},vs={class:"track-info"},hs={class:"track-title"},_s={class:"track-meta"},fs=["onClick"],ks={key:1,class:"glass-panel video-panel"},ps={class:"panel-header"},gs={class:"header-text"},ms={class:"video-grid"},ys={class:"video-thumb"},bs=["src"],ws={class:"video-title"},Ss={key:2,class:"glass-panel empty-panel"},xs={key:2,class:"loading-state"},Cs={__name:"ArtistDetailView",setup(Bs){const T=L(),h=j(),c=H(),{shareArtist:V}=K(),w=E(),S=g(!0),t=g(null),x=g([]),C=g([]),d=D(()=>t.value?x.value.filter(e=>e.artist===t.value.name||e.artist_id===t.value.id):[]),_=D(()=>t.value?C.value.filter(e=>e.host===t.value.name||e.host_id===t.value.id):[]);function F(e){if(!e)return"";const a=Math.floor(e/60),u=Math.floor(e%60);return`${a}:${u.toString().padStart(2,"0")}`}function M(){w.onBookmark(),c.toggle({...t.value,_type:"artist"})}function $(){w.light(),V(t.value)}function N(e){h.setQueue(d.value,e)}return I(async()=>{const e=T.params.slug;try{const[a,u,o]=await Promise.all([y("/api/artists").catch(()=>({artists:[]})),y("/api/music").catch(()=>({tracks:[]})),y("/api/shows").catch(()=>({shows:[]}))]),m=a.artists||[];x.value=u.tracks||[],C.value=o.shows||[],t.value=m.find(v=>v.slug===e||String(v.id)===String(e))||null}catch(a){console.error(a)}finally{S.value=!1}}),(e,a)=>{const u=Q("router-link");return l(),i("div",J,[S.value?(l(),i("div",O,[...a[0]||(a[0]=[s("div",{class:"glass-panel text-center"},[s("i",{class:"fas fa-spinner fa-spin"}),f(" Loading Artist... ")],-1)])])):t.value?(l(),i(b,{key:1},[s("section",U,[s("div",W,[a[1]||(a[1]=s("div",{class:"header-icon icon-white"},[s("i",{class:"fas fa-user-astronaut"})],-1)),s("div",X,[s("h1",null,n(t.value.name),1),s("p",null,n(t.value.genre||"Artist"),1)])]),s("div",Y,[s("div",Z,[s("img",{src:t.value.image||"/static/img/default-avatar.png",alt:t.value.name,class:"hero-avatar"},null,8,ss)]),s("div",as,[t.value.bio?(l(),i("div",ts,n(t.value.bio),1)):k("",!0),s("div",es,[s("button",{class:"action-btn btn-white",onClick:M},[s("i",{class:p(r(c).isBookmarked(t.value)?"fas fa-bookmark":"far fa-bookmark")},null,2),f(" "+n(r(c).isBookmarked(t.value)?"Following":"Follow"),1)]),s("button",{class:"action-btn btn-glass",onClick:$},[...a[2]||(a[2]=[s("i",{class:"fas fa-share-alt"},null,-1),f(" Share ",-1)])])])])])]),d.value.length?(l(),i("section",os,[s("div",ls,[a[4]||(a[4]=s("div",{class:"header-icon icon-green"},[s("i",{class:"fas fa-music"})],-1)),s("div",is,[a[3]||(a[3]=s("h2",null,"Music",-1)),s("p",null,n(d.value.length)+" Tracks",1)])]),s("div",ns,[(l(!0),i(b,null,A(d.value,(o,m)=>{var v,B;return l(),i("div",{key:o.id,class:p(["track-row",{playing:((v=r(h).currentTrack)==null?void 0:v.id)===o.id}]),onClick:z=>N(m)},[s("div",cs,[s("img",{src:o.cover_art||"/static/img/default-cover.jpg",loading:"lazy"},null,8,ds),s("div",us,[s("i",{class:p(((B=r(h).currentTrack)==null?void 0:B.id)===o.id&&r(h).isPlaying?"fas fa-pause":"fas fa-play")},null,2)])]),s("div",vs,[s("div",hs,n(o.title),1),s("div",_s,n(F(o.duration_seconds)),1)]),s("button",{class:"track-action",onClick:R(z=>r(c).toggle({...o,_type:"track"}),["stop"])},[s("i",{class:p(r(c).isBookmarked(o)?"fas fa-bookmark":"far fa-bookmark")},null,2)],8,fs)],10,rs)}),128))])])):k("",!0),_.value.length?(l(),i("section",ks,[s("div",ps,[a[6]||(a[6]=s("div",{class:"header-icon icon-magenta"},[s("i",{class:"fas fa-video"})],-1)),s("div",gs,[a[5]||(a[5]=s("h2",null,"Videos",-1)),s("p",null,n(_.value.length)+" Videos",1)])]),s("div",ms,[(l(!0),i(b,null,A(_.value,o=>(l(),q(u,{key:o.id,to:`/videos?play=${o.id}`,class:"video-card"},{default:G(()=>[s("div",ys,[s("img",{src:o.thumbnail||"/static/img/default-cover.jpg",loading:"lazy"},null,8,bs),a[7]||(a[7]=s("div",{class:"play-overlay"},[s("i",{class:"fas fa-play"})],-1))]),s("div",ws,n(o.title),1)]),_:2},1032,["to"]))),128))])])):k("",!0),!d.value.length&&!_.value.length?(l(),i("section",Ss,[...a[8]||(a[8]=[s("i",{class:"fas fa-ghost"},null,-1),s("p",null,"No content found for this artist yet.",-1)])])):k("",!0)],64)):(l(),i("div",xs,[...a[9]||(a[9]=[s("div",{class:"glass-panel text-center"},[s("i",{class:"fas fa-exclamation-triangle"}),f(" Artist not found ")],-1)])]))])}}},Ds=P(Cs,[["__scopeId","data-v-8cbe0fb0"]]);export{Ds as default};
