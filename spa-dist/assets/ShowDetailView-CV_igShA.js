import{_ as y,u as g,o as b,a as x,c as l,d as c,e as t,t as d,l as r,k as v,g as p,x as S,F as V,f as B,G as C,m as w,H as M,L as N,z as _,r as $,h as z,i as D}from"./index-XV3Y87Yq.js";const F={key:0,class:"shows-page"},j={class:"podcast-show-hero"},L=["src","alt"],R={class:"podcast-show-hero-meta"},E={class:"podcast-show-hero-title"},G={key:0,class:"podcast-show-hero-desc"},H={key:1,class:"podcast-show-hero-desc"},I={class:"podcast-show-hero-actions"},P={key:0,class:"podcasts-section",style:{"margin-top":"16px"}},T={class:"video-embed-container",style:{position:"relative","padding-bottom":"56.25%",height:"0",overflow:"hidden","border-radius":"12px"}},U=["src"],W={key:1,class:"shows-grid-section more-videos-section"},q={class:"shows-grid shows-grid-16x9"},A={class:"show-thumbnail"},J=["src","alt"],K={class:"show-info"},O={class:"show-host"},Q={key:1,class:"shows-page"},X={__name:"ShowDetailView",setup(Y){const k=M(),n=g(),s=w(null),u=w([]),m=_(()=>s.value?u.value.filter(o=>o.id!==s.value.id).slice(0,6):[]),h=_(()=>{if(!s.value)return null;const o=s.value.video_url||s.value.url||"",e=o.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&]+)/);if(e)return`https://www.youtube.com/embed/${e[1]}`;const a=o.match(/vimeo\.com\/(\d+)/);return a?`https://player.vimeo.com/video/${a[1]}`:null});function f(){var e,a;s.value&&N({id:s.value.id,type:"show",title:s.value.title,host:s.value.host,thumbnail:s.value.thumbnail,url:s.value.video_url||s.value.url});const o=((e=s.value)==null?void 0:e.video_url)||((a=s.value)==null?void 0:a.url)||"";o&&!h.value&&window.open(o,"_blank")}return b(async()=>{const o=await x("/api/shows").catch(()=>({shows:[]}));u.value=o.shows||[];const e=k.params.id;s.value=u.value.find(a=>String(a.id)===String(e))||null}),(o,e)=>{const a=$("router-link");return s.value?(l(),c("div",F,[t("section",j,[t("img",{class:"podcast-show-hero-art",src:s.value.thumbnail||"/static/img/default-cover.jpg",alt:s.value.title},null,8,L),t("div",R,[e[2]||(e[2]=t("div",{class:"podcast-show-hero-kicker"},"Video",-1)),t("h1",E,d(s.value.title),1),s.value.host?(l(),c("p",G,d(s.value.host),1)):r("",!0),s.value.description?(l(),c("p",H,d(s.value.description),1)):r("",!0),t("div",I,[t("button",{class:"podcast-cta",onClick:f},[...e[1]||(e[1]=[t("i",{class:"fas fa-play"},null,-1),v(" Watch ",-1)])]),t("button",{class:"podcast-cta secondary",onClick:e[0]||(e[0]=i=>p(n).toggle({...s.value,_type:"show"}))},[t("i",{class:S(p(n).isBookmarked(s.value)?"fas fa-bookmark":"far fa-bookmark")},null,2),v(" "+d(p(n).isBookmarked(s.value)?"Saved":"Save"),1)])])])]),h.value?(l(),c("section",P,[t("div",T,[t("iframe",{src:h.value,style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",border:"0"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,U)])])):r("",!0),m.value.length?(l(),c("section",W,[e[4]||(e[4]=t("div",{class:"section-header"},[t("h2",null,[t("i",{class:"fas fa-th"}),v(" More Videos")])],-1)),t("div",q,[(l(!0),c(V,null,B(m.value,i=>(l(),z(a,{key:i.id,to:`/videos/${i.id}`,class:"show-card more-videos-card"},{default:D(()=>[t("div",A,[t("img",{src:i.thumbnail||"/static/img/default-cover.jpg",alt:i.title,loading:"lazy",class:"image-placeholder"},null,8,J),e[3]||(e[3]=t("div",{class:"show-overlay"},[t("span",{class:"play-btn"},[t("i",{class:"fas fa-play"})])],-1))]),t("div",K,[t("h4",null,d(i.title),1),t("p",O,d(i.host),1)])]),_:2},1032,["to"]))),128))])])):r("",!0)])):(l(),c("div",Q,[...e[5]||(e[5]=[C('<section class="podcast-show-hero" data-v-5c3aca20><div class="podcast-show-hero-art skeleton" style="aspect-ratio:16/9;width:100%;" data-v-5c3aca20></div><div class="podcast-show-hero-meta" data-v-5c3aca20><div class="skeleton" style="height:14px;width:40%;margin-bottom:8px;" data-v-5c3aca20></div><div class="skeleton" style="height:24px;width:70%;margin-bottom:8px;" data-v-5c3aca20></div><div class="skeleton" style="height:14px;width:50%;" data-v-5c3aca20></div></div></section>',1)])]))}}},ss=y(X,[["__scopeId","data-v-5c3aca20"]]);export{ss as default};
