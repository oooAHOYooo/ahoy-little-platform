import{_ as b,c as l,d as n,e as s,n as f,h as w,l as v,x as _,i as m,t as g,P as x,B as i,m as c,L as k,s as C}from"./index-C-wMUvYW.js";const V={class:"auth-page"},E={class:"auth-card"},L={class:"auth-tabs"},U={key:0,class:"auth-field"},A={class:"auth-field"},B={for:"email"},S=["type","placeholder","autocomplete"],D={class:"auth-field"},I=["placeholder"],M={key:1,class:"auth-hint"},$={key:2,class:"auth-error"},q=["disabled"],z={key:0,class:"fas fa-spinner fa-spin"},N={key:1},P={__name:"LoginView",setup(T){const h=C(),o=k(),a=c("login"),u=c(""),r=c(""),p=c("");async function y(){let d;a.value==="login"?d=await o.login(u.value,r.value):d=await o.signup(u.value,r.value,p.value),d.success&&(window.dispatchEvent(new CustomEvent("ahoy:toast",{detail:{message:a.value==="login"?"Welcome back!":"Account created!",type:"success"}})),h.push("/"))}return(d,e)=>(l(),n("div",V,[s("div",E,[e[8]||(e[8]=s("div",{class:"auth-logo"},[s("i",{class:"fas fa-anchor",style:{"font-size":"36px",color:"var(--accent-primary,#6ddcff)"}}),s("h1",null,"Ahoy")],-1)),s("div",L,[s("button",{class:f({active:a.value==="login"}),onClick:e[0]||(e[0]=t=>a.value="login")},"Log In",2),s("button",{class:f({active:a.value==="signup"}),onClick:e[1]||(e[1]=t=>a.value="signup")},"Sign Up",2)]),s("form",{onSubmit:w(y,["prevent"]),class:"auth-form"},[a.value==="signup"?(l(),n("div",U,[e[6]||(e[6]=s("label",{for:"username"},"Username",-1)),v(s("input",{id:"username","onUpdate:modelValue":e[2]||(e[2]=t=>p.value=t),type:"text",placeholder:"your name",autocomplete:"username"},null,512),[[_,p.value]])])):m("",!0),s("div",A,[s("label",B,g(a.value==="login"?"Email or username":"Email"),1),v(s("input",{id:"email","onUpdate:modelValue":e[3]||(e[3]=t=>u.value=t),type:a.value==="login"?"text":"email",placeholder:a.value==="login"?"e.g. alexadmin":"you@example.com",autocomplete:a.value==="login"?"username":"email",required:""},null,8,S),[[x,u.value]])]),s("div",D,[e[7]||(e[7]=s("label",{for:"password"},"Password",-1)),v(s("input",{id:"password","onUpdate:modelValue":e[4]||(e[4]=t=>r.value=t),type:"password",placeholder:a.value==="login"?"e.g. alexadmin":"••••••••",autocomplete:"current-password",required:""},null,8,I),[[_,r.value]])]),a.value==="login"?(l(),n("p",M,"Test account: alexadmin / alexadmin")):m("",!0),i(o).error.value?(l(),n("div",$,g(i(o).error.value),1)):m("",!0),s("button",{type:"submit",class:"auth-submit",disabled:i(o).loading.value},[i(o).loading.value?(l(),n("i",z)):(l(),n("span",N,g(a.value==="login"?"Log In":"Create Account"),1))],8,q)],32),s("button",{class:"auth-skip",onClick:e[5]||(e[5]=t=>i(h).push("/"))}," Continue as Guest ")])]))}},R=b(P,[["__scopeId","data-v-9e95e92b"]]);export{R as default};
