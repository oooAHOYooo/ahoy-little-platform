import{_ as g,o as k,c as e,d as a,e as t,t as u,g as r,j as w,i as y,k as v,F as _,w as x,v as N,x as V,l as b,f as C,m,N as P,r as B,O as E,h as S}from"./index-R22JesoH.js";const A={class:"playlists-page"},D={class:"unified-header"},F={class:"header-content"},I={class:"header-count"},K={key:0,class:"playlists-guest"},L={class:"playlists-actions"},M=["disabled"],T={key:0,class:"fas fa-spinner fa-spin"},j={key:1,class:"fas fa-plus"},O={key:0,class:"playlists-error"},U={class:"playlists-list"},$={class:"playlist-info"},q={class:"playlist-name"},z={__name:"PlaylistsView",setup(G){const f=P(),l=E(),i=m([]),n=m("");async function h(){i.value=await l.list()}async function c(){const d=n.value.trim();if(d)try{const s=await l.create(d);i.value=[...i.value,{id:s.id,name:s.name}],n.value="",window.dispatchEvent(new CustomEvent("ahoy:toast",{detail:{message:"Playlist created",type:"success"}}))}catch{}}return k(h),(d,s)=>{const p=B("router-link");return e(),a("div",A,[t("div",D,[t("div",F,[s[1]||(s[1]=t("h1",null,"Playlists",-1)),t("span",I,u(i.value.length)+" playlists",1)])]),r(f).isLoggedIn.value?(e(),a(_,{key:1},[t("div",L,[x(t("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>n.value=o),type:"text",placeholder:"New playlist name",class:"playlist-input",onKeyup:V(c,["enter"])},null,544),[[N,n.value]]),t("button",{type:"button",class:"playlist-btn primary",disabled:!n.value.trim()||r(l).loading.value,onClick:c},[r(l).loading.value?(e(),a("i",T)):(e(),a("i",j)),s[4]||(s[4]=v(" Create ",-1))],8,M)]),r(l).error.value?(e(),a("div",O,u(r(l).error.value),1)):b("",!0),t("div",U,[(e(!0),a(_,null,C(i.value,o=>(e(),S(p,{key:o.id,to:`/playlists/${o.id}`,class:"playlist-card"},{default:y(()=>[s[5]||(s[5]=t("i",{class:"fas fa-list-ul playlist-icon"},null,-1)),t("div",$,[t("span",q,u(o.name),1)]),s[6]||(s[6]=t("i",{class:"fas fa-chevron-right"},null,-1))]),_:2},1032,["to"]))),128))])],64)):(e(),a("div",K,[s[3]||(s[3]=t("p",null,"Sign in to create and manage playlists.",-1)),w(p,{to:"/login",class:"account-btn primary"},{default:y(()=>[...s[2]||(s[2]=[v("Sign in",-1)])]),_:1})]))])}}},J=g(z,[["__scopeId","data-v-80261ed6"]]);export{J as default};
