import{o as h,a,c as o,b as s,e as m,w as k,f as c,t as i,d as l,i as u,n as y,F as g,r as f,p as b,q as x,g as w,h as B}from"./index-BdyQCXb8.js";import{a as S}from"./useApi-BCqoWMHl.js";import{u as V}from"./useBookmarks-Bk63fjhg.js";const C={key:0,class:"events-page event-detail-page"},N={class:"ds-crumbs event-detail-crumbs","aria-label":"Breadcrumb",style:{padding:"12px 16px 0"}},E={class:"ds-crumbs__item"},z={class:"ds-crumbs__item"},F={class:"ds-crumbs__current",style:{color:"rgba(255,255,255,0.7)"}},D={class:"podcast-show-hero",style:{"margin-top":"12px"}},P=["src","alt"],R={class:"podcast-show-hero-meta"},$={class:"podcast-show-hero-title"},j={key:0,class:"podcast-show-hero-desc"},q={class:"episode-subtitle",style:{"margin-bottom":"10px"}},L={key:0},M={key:1,class:"episode-dot"},T={key:2},A={key:3,class:"episode-dot"},G={key:4},H={key:1,class:"episode-desc",style:{color:"rgba(255,255,255,0.5)","font-size":"13px"}},I={class:"podcast-show-hero-actions",style:{"margin-top":"12px"}},J=["href"],K={key:0,class:"podcasts-section",style:{"margin-top":"16px"}},O={class:"shows-grid",style:{"grid-template-columns":"repeat(auto-fill,minmax(200px,1fr))"}},Q=["src","alt"],U={key:1,class:"events-page"},ee={__name:"EventDetailView",setup(W){const v=x(),r=V(),e=w(null);return h(async()=>{const p=v.params.id,d=(await S("/api/events").catch(()=>({events:[]}))).events||[];e.value=d.find(n=>String(n.id)===String(p))||null}),(p,t)=>{const d=B("router-link");return e.value?(a(),o("div",C,[s("nav",N,[s("span",E,[m(d,{to:"/events",class:"ds-crumbs__link",style:{color:"var(--accent-primary,#6ddcff)","text-decoration":"none"}},{default:k(()=>[...t[1]||(t[1]=[c("Events",-1)])]),_:1}),t[2]||(t[2]=s("span",{class:"ds-crumbs__sep",style:{margin:"0 6px",color:"rgba(255,255,255,0.4)"}},"›",-1))]),s("span",z,[s("span",F,i(e.value.title),1)])]),s("section",D,[s("img",{class:"podcast-show-hero-art",src:e.value.image||"/static/img/default-cover.jpg",alt:e.value.title},null,8,P),s("div",R,[t[4]||(t[4]=s("div",{class:"podcast-show-hero-kicker"},"Event",-1)),s("h1",$,i(e.value.title),1),e.value.description?(a(),o("p",j,i(e.value.description),1)):l("",!0),s("div",q,[e.value.date?(a(),o("span",L,i(e.value.date),1)):l("",!0),e.value.date&&e.value.time?(a(),o("span",M," · ")):l("",!0),e.value.time?(a(),o("span",T,i(e.value.time),1)):l("",!0),(e.value.date||e.value.time)&&e.value.venue?(a(),o("span",A," · ")):l("",!0),e.value.venue?(a(),o("span",G,i(e.value.venue),1)):l("",!0)]),e.value.venue_address?(a(),o("div",H,i(e.value.venue_address),1)):l("",!0),s("div",I,[s("button",{class:"podcast-cta secondary",onClick:t[0]||(t[0]=n=>u(r).toggle({...e.value,_type:"event"}))},[s("i",{class:y(u(r).isBookmarked(e.value)?"fas fa-bookmark":"far fa-bookmark")},null,2),c(" "+i(u(r).isBookmarked(e.value)?"Saved":"Save"),1)]),e.value.rsvp_url||e.value.link?(a(),o("a",{key:0,href:e.value.rsvp_url||e.value.link,target:"_blank",class:"podcast-cta",style:{"text-decoration":"none"}},[...t[3]||(t[3]=[s("i",{class:"fas fa-external-link-alt"},null,-1),c(" RSVP ",-1)])],8,J)):l("",!0)])])]),e.value.photos&&e.value.photos.length?(a(),o("section",K,[t[5]||(t[5]=s("div",{class:"podcasts-section-header"},[s("h2",null,"Photos")],-1)),s("div",O,[(a(!0),o(g,null,f(e.value.photos,(n,_)=>(a(),o("div",{key:_,style:{"border-radius":"12px",overflow:"hidden"}},[s("img",{src:n,alt:`${e.value.title} photo`,loading:"lazy",style:{width:"100%",display:"block"}},null,8,Q)]))),128))])])):l("",!0)])):(a(),o("div",U,[...t[6]||(t[6]=[b('<section class="podcast-show-hero" style="margin-top:24px;"><div class="podcast-show-hero-art skeleton" style="aspect-ratio:16/9;width:100%;"></div><div class="podcast-show-hero-meta"><div class="skeleton" style="height:14px;width:30%;margin-bottom:8px;"></div><div class="skeleton" style="height:24px;width:60%;margin-bottom:8px;"></div><div class="skeleton" style="height:14px;width:80%;"></div></div></section>',1)])]))}}};export{ee as default};
