const r="https://app.ahoy.ooo";async function s(a,c={}){const e=`${r}${a}`,t=await fetch(e,{...c,headers:{Accept:"application/json",...c.headers}});if(!t.ok)throw new Error(`API ${a}: ${t.status}`);return t.json()}async function h(a,c){const e=`ahoy:${a}`;try{const t=await s(a);try{localStorage.setItem(e,JSON.stringify({data:t,ts:Date.now()}))}catch{}return t}catch(t){const o=localStorage.getItem(e);if(o){const{data:n}=JSON.parse(o);return n}throw t}}export{h as a};
