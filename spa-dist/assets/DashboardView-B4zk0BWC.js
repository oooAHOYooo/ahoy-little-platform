import{_ as B,u as x,n as A,o as U,a as V,c as i,d as l,e as t,j as n,i as r,F as k,f,k as b,w as y,C as D,v as F,g,m as _,r as I,A as S,h as N,t as v}from"./index-dNq3sVO6.js";const E={class:"dashboard-page"},L={class:"dashboard-sidebars"},M={class:"dashboard-sidebar dashboard-left desktop-only"},R={class:"sidebar-content"},T={class:"sidebar-panel sidebar-item"},P={class:"sidebar-panel sidebar-item"},Q={class:"sidebar-bookmarks"},O={key:1,class:"sidebar-empty"},z={class:"sidebar-panel sidebar-item tip-jar-compact"},G=["value"],H={class:"tip-jar-amount-row"},J=["href"],K={class:"sidebar-panel sidebar-item"},W={class:"sidebar-list"},X={class:"dashboard-main"},Y={class:"content-area content-pad-bottom"},Z={class:"dashboard-sidebar dashboard-right desktop-only"},ss={class:"sidebar-content"},ts={key:0,class:"queue-list"},es=["onClick"],as=["src","alt"],os={class:"queue-item-info"},is={class:"queue-item-title"},ls={class:"queue-item-artist"},rs={key:1,class:"sidebar-empty"},ns={__name:"DashboardView",setup(ds){const w="https://app.ahoy.ooo",j=x(),u=A(),h=S(()=>{const a=j.bookmarks.value;return Object.entries(a).map(([s,o])=>({key:s,...o}))});function C(a){const s=(a.type||a._type||"track").toLowerCase(),o=a.id||a.slug;return s==="artist"?`/artists/${a.slug||o}`:s==="show"?`/videos/${o}`:s==="podcast"||s==="clip"?`/podcasts/${a.slug||o}`:`/music/${o}`}const m=_([]),c=_(""),d=_(1),q=S(()=>!c.value||!d.value||d.value<.5?"#":`${w}/checkout?type=boost&artist_id=${encodeURIComponent(c.value)}&amount=${encodeURIComponent(d.value)}`);function $(a){const s=u.queue;s[a]&&u.play(s[a])}return U(async()=>{try{const a=await V("/api/artists");m.value=a.artists||[]}catch{m.value=[]}}),(a,s)=>{const o=I("router-link");return i(),l("div",E,[t("div",L,[t("aside",M,[t("div",R,[t("div",T,[s[3]||(s[3]=t("div",{class:"section-title"},"Search",-1)),n(o,{to:"/search",class:"sidebar-search-link"},{default:r(()=>[...s[2]||(s[2]=[t("i",{class:"fas fa-search"},null,-1),t("span",null,"Search music, artists, podcasts...",-1)])]),_:1})]),t("div",P,[s[6]||(s[6]=t("div",{class:"section-title"},"Saved",-1)),t("div",Q,[h.value.length?(i(!0),l(k,{key:0},f(h.value,(e,p)=>(i(),N(o,{key:p,to:C(e),class:"sidebar-list-item"},{default:r(()=>[s[4]||(s[4]=t("i",{class:"fas fa-bookmark"},null,-1)),t("span",null,v(e.title),1)]),_:2},1032,["to"]))),128)):(i(),l("p",O,"No saved items"))]),n(o,{to:"/my-saves",class:"sidebar-see-all"},{default:r(()=>[...s[5]||(s[5]=[b("See all",-1)])]),_:1})]),t("div",z,[s[10]||(s[10]=t("div",{class:"section-title"},"Boost",-1)),s[11]||(s[11]=t("p",{class:"tip-jar-copy"},"Support an artist — 100% goes to them.",-1)),y(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e),class:"tip-jar-select","aria-label":"Select artist"},[s[7]||(s[7]=t("option",{value:""},"Select artist…",-1)),(i(!0),l(k,null,f(m.value,e=>(i(),l("option",{key:e.id,value:e.id||e.name},v(e.name),9,G))),128))],512),[[D,c.value]]),t("div",H,[s[8]||(s[8]=t("span",{class:"tip-jar-currency"},"$",-1)),y(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>d.value=e),type:"number",min:"0.5",step:"0.5",placeholder:"1",class:"tip-jar-amount"},null,512),[[F,d.value,void 0,{number:!0}]])]),t("a",{href:q.value,class:"tip-jar-submit",target:"_blank",rel:"noopener"},[...s[9]||(s[9]=[t("i",{class:"fas fa-bolt"},null,-1),b(" Boost ",-1)])],8,J)]),t("div",K,[s[14]||(s[14]=t("div",{class:"section-title"},"App",-1)),t("div",W,[n(o,{to:"/settings",class:"sidebar-list-item"},{default:r(()=>[...s[12]||(s[12]=[t("i",{class:"fas fa-cog"},null,-1),t("span",null,"Settings",-1)])]),_:1}),n(o,{to:"/feedback",class:"sidebar-list-item"},{default:r(()=>[...s[13]||(s[13]=[t("i",{class:"fas fa-comment"},null,-1),t("span",null,"Feedback",-1)])]),_:1})])])])]),t("div",X,[t("div",Y,[s[16]||(s[16]=t("div",{class:"unified-header"},[t("div",{class:"header-content"},[t("h1",null,"Dashboard")])],-1)),s[17]||(s[17]=t("p",{class:"dashboard-welcome"},"Use the sidebars to search, open saved items, boost artists, and see what’s up next.",-1)),n(o,{to:"/",class:"dashboard-link"},{default:r(()=>[...s[15]||(s[15]=[b("Explore home",-1)])]),_:1})])]),t("aside",Z,[s[19]||(s[19]=t("div",{class:"sidebar-header"},[t("h3",null,"Up Next")],-1)),t("div",ss,[g(u).queue.length?(i(),l("div",ts,[(i(!0),l(k,null,f(g(u).queue,(e,p)=>(i(),l("div",{key:p,class:"queue-item",onClick:us=>$(p)},[t("img",{src:e.cover_art||e.thumbnail||e.artwork||"/static/img/default-cover.jpg",alt:e.title,class:"queue-item-art"},null,8,as),t("div",os,[t("div",is,v(e.title),1),t("div",ls,v(e.artist||e.host||""),1)])],8,es))),128))])):(i(),l("div",rs,"Queue is empty")),n(o,{to:"/music",class:"sidebar-see-all"},{default:r(()=>[...s[18]||(s[18]=[b("Add tracks",-1)])]),_:1})])])])])}}},ps=B(ns,[["__scopeId","data-v-298c8e7e"]]);export{ps as default};
