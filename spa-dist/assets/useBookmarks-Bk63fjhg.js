import{g as k,o as g,A as i}from"./index-BdyQCXb8.js";const l="ahoy.bookmarks.v1";function t(){try{const n=localStorage.getItem(l);return n?JSON.parse(n):{}}catch{return{}}}function s(n){localStorage.setItem(l,JSON.stringify(n)),window.dispatchEvent(new CustomEvent("bookmarks:changed"))}function f(){const n=k(t());function a(){n.value=t()}function u(o){const r=o.id||o.slug;return!!n.value[r]}function c(o){const r=o.id||o.slug,e=t();e[r]?delete e[r]:e[r]={id:o.id,slug:o.slug,title:o.title,artist:o.artist||o.host||"",cover_art:o.cover_art||o.thumbnail||o.artwork||o.image||"",type:o.type||o._type||"track",audio_url:o.audio_url||o.url||""},s(e),n.value=e}function d(o){const r=o.id||o.slug,e=t();delete e[r],s(e),n.value=e}return g(()=>{window.addEventListener("bookmarks:changed",a)}),i(()=>{window.removeEventListener("bookmarks:changed",a)}),{bookmarks:n,isBookmarked:u,toggle:c,remove:d}}export{f as u};
