import{a as u}from"./useApi-yOrUYmt7.js";import{u as A,o as D,a,c as o,b as s,F as i,r as n,d as m,e as p,w as f,f as g,g as v,h as O,t as l}from"./index-BReVcDmu.js";const j={class:"home-page"},z={key:0,class:"whats-new-section"},B={class:"whats-new-container"},F={class:"whats-new-updates"},M={class:"whats-new-content"},P={class:"whats-new-title"},T={class:"whats-new-desc"},E={key:0,class:"whats-new-date"},H={class:"section-header"},L={key:1,class:"scroll-row"},Q=["onClick"],W={class:"track-cover"},$=["src","alt"],q={class:"track-info"},G={class:"track-title"},I={class:"track-artist"},J={key:2,class:"scroll-row"},K={class:"section-header"},R={key:3,class:"scroll-row"},U={class:"show-thumbnail"},X=["src","alt"],Y={class:"show-info"},Z={class:"show-title"},ss={class:"show-host"},ts={key:4,class:"scroll-row"},es={class:"section-header"},as={key:5,class:"scroll-row"},os={class:"artist-cover"},ls=["src","alt"],is={class:"artist-info"},ns={class:"artist-name"},cs={class:"artist-type"},us={__name:"HomeView",setup(ds){const N=A(),c=v([]),_=v([]),w=v([]),k=v([]);function C(h){N.setQueue(c.value,c.value.indexOf(h))}return D(async()=>{const[h,e,d,t]=await Promise.all([u("/api/music").catch(()=>({tracks:[]})),u("/api/shows").catch(()=>({shows:[]})),u("/api/artists").catch(()=>({artists:[]})),u("/api/whats-new").catch(()=>({updates:{}}))]);c.value=h.tracks||[],_.value=e.shows||[],w.value=d.artists||[];const r=t.updates||{},b=[];for(const y of Object.keys(r).sort().reverse())for(const x of Object.keys(r[y]).sort().reverse())for(const S of Object.keys(r[y][x])){const V=r[y][x][S].items||[];b.push(...V)}k.value=b}),(h,e)=>{const d=O("router-link");return a(),o("div",j,[k.value.length?(a(),o("div",z,[s("div",B,[e[1]||(e[1]=s("div",{class:"whats-new-header"},[s("h2",null,"What's New at Ahoy")],-1)),s("div",F,[(a(!0),o(i,null,n(k.value.slice(0,5),t=>(a(),o("div",{class:"whats-new-item",key:t.title},[s("div",M,[s("div",P,l(t.title),1),s("div",T,l(t.description),1),t.date?(a(),o("div",E,l(t.date),1)):m("",!0)]),e[0]||(e[0]=s("div",{class:"whats-new-arrow"},[s("i",{class:"fas fa-chevron-right"})],-1))]))),128))])])])):m("",!0),s("div",H,[e[3]||(e[3]=s("h2",null,"Music",-1)),p(d,{to:"/music",class:"see-all"},{default:f(()=>[...e[2]||(e[2]=[g("See All",-1)])]),_:1})]),c.value.length?(a(),o("div",L,[(a(!0),o(i,null,n(c.value.slice(0,10),t=>(a(),o("div",{class:"track-card",key:t.id,onClick:r=>C(t)},[s("div",W,[s("img",{src:t.cover_art,alt:t.title,loading:"lazy"},null,8,$)]),s("div",q,[s("div",G,l(t.title),1),s("div",I,l(t.artist),1)])],8,Q))),128))])):(a(),o("div",J,[(a(),o(i,null,n(5,t=>s("div",{class:"track-card",key:t},[...e[4]||(e[4]=[s("div",{class:"track-cover skeleton"},null,-1),s("div",{class:"track-info"},[s("div",{class:"skeleton",style:{height:"14px",width:"80%"}})],-1)])])),64))])),s("div",K,[e[6]||(e[6]=s("h2",null,"Videos",-1)),p(d,{to:"/shows",class:"see-all"},{default:f(()=>[...e[5]||(e[5]=[g("See All",-1)])]),_:1})]),_.value.length?(a(),o("div",R,[(a(!0),o(i,null,n(_.value.slice(0,10),t=>(a(),o("div",{class:"show-card",key:t.id},[s("div",U,[s("img",{src:t.thumbnail,alt:t.title,loading:"lazy"},null,8,X)]),s("div",Y,[s("div",Z,l(t.title),1),s("div",ss,l(t.host),1)])]))),128))])):(a(),o("div",ts,[(a(),o(i,null,n(5,t=>s("div",{class:"show-card",key:t},[...e[7]||(e[7]=[s("div",{class:"show-thumbnail skeleton"},null,-1),s("div",{class:"show-info"},[s("div",{class:"skeleton",style:{height:"14px",width:"80%"}})],-1)])])),64))])),s("div",es,[e[9]||(e[9]=s("h2",null,"Artists",-1)),p(d,{to:"/artists",class:"see-all"},{default:f(()=>[...e[8]||(e[8]=[g("See All",-1)])]),_:1})]),w.value.length?(a(),o("div",as,[(a(!0),o(i,null,n(w.value.slice(0,10),t=>(a(),o("div",{class:"artist-card",key:t.id},[s("div",os,[s("img",{src:t.image,alt:t.name,loading:"lazy"},null,8,ls)]),s("div",is,[s("div",ns,l(t.name),1),s("div",cs,l(t.type),1)])]))),128))])):m("",!0)])}}};export{us as default};
