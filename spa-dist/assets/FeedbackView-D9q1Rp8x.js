import{_ as k,c as l,d as o,e,f as _,h,F as b,r as p,l as m,x as w,t as u,i as v,S as x,m as c,U as F,n as T,E as C}from"./index-DOyqqBR8.js";const S={class:"feedback-page"},V={class:"feedback-container"},B={class:"form-section"},D={class:"feedback-types"},E=["value"],N={class:"form-section"},R={class:"star-rating"},U=["onClick"],M={class:"form-section"},q=["disabled"],I={key:0,class:"feedback-success"},O={key:1,class:"feedback-error"},P={__name:"FeedbackView",setup(W){const g=[{value:"general",label:"General"},{value:"ui",label:"UI/Design"},{value:"performance",label:"Performance"},{value:"bug",label:"Bug Report"},{value:"feature",label:"Feature Request"}],a=x({type:"general",rating:5,message:""}),n=c(!1),d=c(!1),r=c("");async function y(){if(a.message.trim()){n.value=!0,r.value="",d.value=!1;try{await C("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:a.type,rating:a.rating,message:a.message.trim()})}),d.value=!0,a.message="",window.dispatchEvent(new CustomEvent("ahoy:toast",{detail:{message:"Thank you for your feedback!",type:"success"}}))}catch(i){r.value=(i==null?void 0:i.message)||"Could not send. Try again."}finally{n.value=!1}}}return(i,s)=>(l(),o("div",S,[s[6]||(s[6]=e("section",{class:"podcasts-hero feedback-hero"},[e("div",{class:"podcasts-hero-inner"},[e("h1",null,[e("i",{class:"fas fa-comment-dots","aria-hidden":"true"}),_(" Feedback")]),e("p",null,"Help us improve by sharing what you think.")])],-1)),e("div",V,[e("form",{class:"feedback-form",onSubmit:h(y,["prevent"])},[e("div",B,[s[2]||(s[2]=e("h3",null,"What type of feedback?",-1)),e("div",D,[(l(),o(b,null,p(g,t=>e("label",{key:t.value,class:"feedback-type-label"},[m(e("input",{"onUpdate:modelValue":s[0]||(s[0]=f=>a.type=f),type:"radio",value:t.value},null,8,E),[[F,a.type]]),e("span",null,u(t.label),1)])),64))])]),e("div",N,[s[4]||(s[4]=e("h3",null,"Rating (1–5)",-1)),e("div",R,[(l(),o(b,null,p(5,t=>e("button",{key:t,type:"button",class:T(["star-btn",{on:a.rating>=t}]),onClick:f=>a.rating=t},[...s[3]||(s[3]=[e("i",{class:"fas fa-star"},null,-1)])],10,U)),64))])]),e("div",M,[s[5]||(s[5]=e("label",{for:"fb-message"},"Your feedback *",-1)),m(e("textarea",{id:"fb-message","onUpdate:modelValue":s[1]||(s[1]=t=>a.message=t),class:"feedback-textarea",rows:"4",placeholder:"Tell us more…",required:""},null,512),[[w,a.message]])]),e("button",{type:"submit",class:"feedback-submit",disabled:n.value},u(n.value?"Sending…":"Send Feedback"),9,q),d.value?(l(),o("p",I,"Thank you! We got your feedback.")):v("",!0),r.value?(l(),o("p",O,u(r.value),1)):v("",!0)],32)])]))}},z=k(P,[["__scopeId","data-v-7b48e602"]]);export{z as default};
