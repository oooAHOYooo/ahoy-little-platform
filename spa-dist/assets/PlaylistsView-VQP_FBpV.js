import{_ as h,o as k,c as e,d as a,e as t,t as u,B as r,j as w,k as y,f as v,F as _,l as x,x as V,g as b,i as C,r as N,m,L as P,p as B,M as E,y as L}from"./index-Qvb-IFK5.js";const M={class:"playlists-page"},S={class:"unified-header"},A={class:"header-content"},D={class:"header-count"},F={key:0,class:"playlists-guest"},I={class:"playlists-actions"},K=["disabled"],T={key:0,class:"fas fa-spinner fa-spin"},j={key:1,class:"fas fa-plus"},U={key:0,class:"playlists-error"},$={class:"playlists-list"},q={class:"playlist-info"},z={class:"playlist-name"},G={__name:"PlaylistsView",setup(H){const f=P(),l=E(),i=m([]),n=m("");async function g(){i.value=await l.list()}async function c(){const d=n.value.trim();if(d)try{const s=await l.create(d);i.value=[...i.value,{id:s.id,name:s.name}],n.value="",window.dispatchEvent(new CustomEvent("ahoy:toast",{detail:{message:"Playlist created",type:"success"}}))}catch{}}return k(g),(d,s)=>{const p=B("router-link");return e(),a("div",M,[t("div",S,[t("div",A,[s[1]||(s[1]=t("h1",null,"Playlists",-1)),t("span",D,u(i.value.length)+" playlists",1)])]),r(f).isLoggedIn.value?(e(),a(_,{key:1},[t("div",I,[x(t("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>n.value=o),type:"text",placeholder:"New playlist name",class:"playlist-input",onKeyup:b(c,["enter"])},null,544),[[V,n.value]]),t("button",{type:"button",class:"playlist-btn primary",disabled:!n.value.trim()||r(l).loading.value,onClick:c},[r(l).loading.value?(e(),a("i",T)):(e(),a("i",j)),s[4]||(s[4]=v(" Create ",-1))],8,K)]),r(l).error.value?(e(),a("div",U,u(r(l).error.value),1)):C("",!0),t("div",$,[(e(!0),a(_,null,N(i.value,o=>(e(),L(p,{key:o.id,to:`/playlists/${o.id}`,class:"playlist-card"},{default:y(()=>[s[5]||(s[5]=t("i",{class:"fas fa-list-ul playlist-icon"},null,-1)),t("div",q,[t("span",z,u(o.name),1)]),s[6]||(s[6]=t("i",{class:"fas fa-chevron-right"},null,-1))]),_:2},1032,["to"]))),128))])],64)):(e(),a("div",F,[s[3]||(s[3]=t("p",null,"Sign in to create and manage playlists.",-1)),w(p,{to:"/login",class:"account-btn primary"},{default:y(()=>[...s[2]||(s[2]=[v("Sign in",-1)])]),_:1})]))])}}},O=h(G,[["__scopeId","data-v-80261ed6"]]);export{O as default};
