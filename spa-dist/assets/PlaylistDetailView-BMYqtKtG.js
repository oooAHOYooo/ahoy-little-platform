import{_ as y,o as h,w as f,c as s,d as t,e as a,t as n,F as w,r as g,i as k,m,I as b,M as N}from"./index-DGqWHNLv.js";const P={class:"playlist-detail-page"},C={class:"unified-header"},I={class:"header-content"},V={class:"header-count"},x={key:0,class:"loading"},B={key:1,class:"error"},D={key:2,class:"playlist-items"},E={class:"item-media"},M=["onClick"],R={key:0,class:"empty"},A={__name:"PlaylistDetailView",setup(F){const c=b(),d=N(),r=m(null),i=m([]),u=m(!0);async function _(){const e=c.params.id;if(e){u.value=!0;try{r.value=await d.get(Number(e)),i.value=await d.listItems(Number(e))}finally{u.value=!1}}}async function p(e){try{await d.removeItem(Number(c.params.id),e),i.value=i.value.filter(l=>l.id!==e),window.dispatchEvent(new CustomEvent("ahoy:toast",{detail:{message:"Removed",type:"success"}}))}catch{}}return h(_),f(()=>c.params.id,_),(e,l)=>{var v;return s(),t("div",P,[a("div",C,[a("div",I,[a("h1",null,n(((v=r.value)==null?void 0:v.name)||"Playlist"),1),a("span",V,n(i.value.length)+" items",1)])]),u.value?(s(),t("div",x,"Loading...")):r.value?(s(),t("div",D,[(s(!0),t(w,null,g(i.value,o=>(s(),t("div",{key:o.id,class:"playlist-item-row"},[a("span",E,n(o.media_type)+": "+n(o.media_id),1),a("button",{type:"button",class:"item-remove","aria-label":"Remove",onClick:L=>p(o.id)},[...l[0]||(l[0]=[a("i",{class:"fas fa-times"},null,-1)])],8,M)]))),128)),i.value.length?k("",!0):(s(),t("p",R,"No tracks yet. Add from Music or Podcasts."))])):(s(),t("div",B,"Playlist not found."))])}}},$=y(A,[["__scopeId","data-v-2498d0ed"]]);export{$ as default};
