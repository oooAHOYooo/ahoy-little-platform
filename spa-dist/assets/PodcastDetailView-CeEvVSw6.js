import{_ as V,n as z,u as E,o as D,a as M,c as i,d as l,e as t,t as d,l as n,k as h,g as p,s as _,F as b,f as x,G as T,H as j,m as C,A as S,y as F}from"./index-wlCC_hhh.js";const L={key:0,class:"podcast-show-page"},Q={class:"podcast-show-hero"},A=["src","alt"],G={class:"podcast-show-hero-meta"},H={class:"podcast-show-hero-title"},I={key:0,class:"podcast-show-hero-desc"},R={class:"podcast-show-hero-actions"},q={class:"podcast-tabs"},J={class:"tab-count"},K={class:"tab-count"},O={key:0,class:"podcasts-section",style:{"margin-top":"16px"}},U={class:"episode-list"},W=["onClick"],X=["src","alt"],Y={class:"episode-meta"},Z={class:"episode-title"},ss={class:"episode-subtitle"},ts={key:0,class:"episode-time"},os={key:1,class:"episode-dot"},es={key:2,class:"episode-time"},as={key:0,class:"episode-desc"},is={class:"episode-actions"},ls=["onClick"],ds={key:1,class:"podcasts-section",style:{"margin-top":"16px"}},ns={class:"episode-list"},cs=["src","alt"],rs={class:"episode-meta"},us={class:"episode-title"},ps={class:"episode-subtitle"},vs={key:0,class:"episode-time"},_s={key:0,class:"episode-desc"},hs={key:0,class:"empty-state",style:{"text-align":"center",padding:"40px 20px",color:"rgba(255,255,255,0.5)"}},ks={key:2,class:"podcasts-section",style:{"margin-top":"16px"}},gs={key:1,class:"podcast-show-page"},ms={__name:"PodcastDetailView",setup(ys){const $=j(),v=z(),k=E(),a=C(null),c=C("episodes"),u=S(()=>a.value?(a.value.episodes||[]).filter(o=>o.audio_url||o.url).map(o=>({...o,id:o.id||o.key||`${a.value.slug}-${o.title}`,artist:a.value.title,cover_art:o.cover_art||o.artwork||a.value.artwork,audio_url:o.audio_url||o.url||""})):[]),g=S(()=>a.value?(a.value.episodes||[]).filter(o=>!o.audio_url&&!o.url).map(o=>({...o,cover_art:o.cover_art||o.artwork||a.value.artwork})):[]);function B(o){if(!o)return"";const e=Math.floor(o/60),s=Math.floor(o%60);return`${e}:${s.toString().padStart(2,"0")}`}function m(o,e){return o?o.length>e?o.slice(0,e)+"...":o:""}function N(){u.value.length&&v.setQueue(u.value,0)}function y(o){v.setQueue(u.value,o)}return D(async()=>{const o=$.params.slug,s=(await M("/api/podcasts").catch(()=>({shows:[]}))).shows||[];a.value=s.find(r=>r.slug===o)||null}),(o,e)=>a.value?(i(),l("div",L,[t("section",Q,[t("img",{class:"podcast-show-hero-art",src:a.value.artwork||"/static/img/default-cover.jpg",alt:a.value.title},null,8,A),t("div",G,[e[4]||(e[4]=t("div",{class:"podcast-show-hero-kicker"},"Podcast",-1)),t("h1",H,d(a.value.title),1),a.value.description?(i(),l("p",I,d(a.value.description),1)):n("",!0),t("div",R,[t("button",{class:"podcast-cta",onClick:N},[...e[3]||(e[3]=[t("i",{class:"fas fa-play"},null,-1),h(" Play Latest ",-1)])]),t("button",{class:"podcast-cta secondary",onClick:e[0]||(e[0]=s=>p(k).toggle({...a.value,_type:"podcast"}))},[t("i",{class:_(p(k).isBookmarked(a.value)?"fas fa-bookmark":"far fa-bookmark")},null,2),h(" "+d(p(k).isBookmarked(a.value)?"Saved":"Save"),1)])])])]),t("nav",q,[t("button",{class:_(["podcast-tab",{active:c.value==="episodes"}]),onClick:e[1]||(e[1]=s=>c.value="episodes")},[e[5]||(e[5]=h(" Episodes ",-1)),t("span",J,d(u.value.length),1)],2),t("button",{class:_(["podcast-tab",{active:c.value==="coming_soon"}]),onClick:e[2]||(e[2]=s=>c.value="coming_soon")},[e[6]||(e[6]=h(" Coming Soon ",-1)),t("span",K,d(g.value.length),1)],2)]),c.value==="episodes"?(i(),l("section",O,[t("div",U,[(i(!0),l(b,null,x(u.value,(s,r)=>{var f,w;return i(),l("article",{key:s.id||s.key||r,class:_(["episode-row",{playing:((f=p(v).currentTrack)==null?void 0:f.id)===(s.id||s.key)}]),onClick:P=>y(r)},[t("img",{class:"episode-art",src:s.cover_art||s.artwork||a.value.artwork||"/static/img/default-cover.jpg",alt:s.title,loading:"lazy"},null,8,X),t("div",Y,[t("div",Z,d(s.title),1),t("div",ss,[s.date?(i(),l("span",ts,d(s.date),1)):n("",!0),s.date&&s.duration_seconds?(i(),l("span",os," Â· ")):n("",!0),s.duration_seconds?(i(),l("span",es,d(B(s.duration_seconds)),1)):n("",!0)]),s.description?(i(),l("div",as,d(m(s.description,120)),1)):n("",!0)]),t("div",is,[t("button",{class:"episode-btn",onClick:F(P=>y(r),["stop"])},[t("i",{class:_(((w=p(v).currentTrack)==null?void 0:w.id)===(s.id||s.key)&&p(v).isPlaying?"fas fa-pause":"fas fa-play")},null,2)],8,ls)])],10,W)}),128))])])):n("",!0),c.value==="coming_soon"?(i(),l("section",ds,[t("div",ns,[(i(!0),l(b,null,x(g.value,(s,r)=>(i(),l("article",{key:s.id||r,class:"episode-row coming-soon"},[t("img",{class:"episode-art",src:s.cover_art||s.artwork||a.value.artwork||"/static/img/default-cover.jpg",alt:s.title,loading:"lazy"},null,8,cs),t("div",rs,[t("div",us,d(s.title),1),t("div",ps,[s.date?(i(),l("span",vs,"Expected: "+d(s.date),1)):n("",!0),e[7]||(e[7]=t("span",{class:"coming-soon-badge"},"Coming Soon",-1))]),s.description?(i(),l("div",_s,d(m(s.description,120)),1)):n("",!0)])]))),128))]),g.value.length?n("",!0):(i(),l("div",hs,[...e[8]||(e[8]=[t("i",{class:"fas fa-calendar-alt",style:{"font-size":"48px","margin-bottom":"16px",display:"block"}},null,-1),t("p",null,"No episodes scheduled yet",-1)])]))])):n("",!0),c.value==="episodes"&&!u.value.length?(i(),l("section",ks,[...e[9]||(e[9]=[t("div",{class:"empty-state",style:{"text-align":"center",padding:"40px 20px",color:"rgba(255,255,255,0.5)"}},[t("i",{class:"fas fa-podcast",style:{"font-size":"48px","margin-bottom":"16px",display:"block"}}),t("p",null,"No episodes available yet")],-1)])])):n("",!0)])):(i(),l("div",gs,[...e[10]||(e[10]=[T('<section class="podcast-show-hero" data-v-a96ba62d><div class="podcast-show-hero-art skeleton" style="aspect-ratio:1;width:100%;" data-v-a96ba62d></div><div class="podcast-show-hero-meta" data-v-a96ba62d><div class="skeleton" style="height:14px;width:30%;margin-bottom:8px;" data-v-a96ba62d></div><div class="skeleton" style="height:24px;width:60%;margin-bottom:8px;" data-v-a96ba62d></div><div class="skeleton" style="height:14px;width:80%;" data-v-a96ba62d></div></div></section>',1)])]))}},ws=V(ms,[["__scopeId","data-v-a96ba62d"]]);export{ws as default};
