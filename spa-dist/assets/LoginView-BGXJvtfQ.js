import{_ as w,c as l,d as n,e as s,n as g,h as _,l as c,x as m,i as h,B as i,t as y,m as p,L as k,s as x}from"./index-46FOhV9w.js";const C={class:"auth-page"},V={class:"auth-card"},L={class:"auth-tabs"},U={key:0,class:"auth-field"},A={class:"auth-field"},B={class:"auth-field"},E={key:1,class:"auth-error"},S=["disabled"],I={key:0,class:"fas fa-spinner fa-spin"},$={key:1},q={__name:"LoginView",setup(z){const f=x(),o=k(),t=p("login"),u=p(""),r=p(""),v=p("");async function b(){let d;t.value==="login"?d=await o.login(u.value,r.value):d=await o.signup(u.value,r.value,v.value),d.success&&(window.dispatchEvent(new CustomEvent("ahoy:toast",{detail:{message:t.value==="login"?"Welcome back!":"Account created!",type:"success"}})),f.push("/"))}return(d,e)=>(l(),n("div",C,[s("div",V,[e[9]||(e[9]=s("div",{class:"auth-logo"},[s("i",{class:"fas fa-anchor",style:{"font-size":"36px",color:"var(--accent-primary,#6ddcff)"}}),s("h1",null,"Ahoy")],-1)),s("div",L,[s("button",{class:g({active:t.value==="login"}),onClick:e[0]||(e[0]=a=>t.value="login")},"Log In",2),s("button",{class:g({active:t.value==="signup"}),onClick:e[1]||(e[1]=a=>t.value="signup")},"Sign Up",2)]),s("form",{onSubmit:_(b,["prevent"]),class:"auth-form"},[t.value==="signup"?(l(),n("div",U,[e[6]||(e[6]=s("label",{for:"username"},"Username",-1)),c(s("input",{id:"username","onUpdate:modelValue":e[2]||(e[2]=a=>v.value=a),type:"text",placeholder:"your name",autocomplete:"username"},null,512),[[m,v.value]])])):h("",!0),s("div",A,[e[7]||(e[7]=s("label",{for:"email"},"Email",-1)),c(s("input",{id:"email","onUpdate:modelValue":e[3]||(e[3]=a=>u.value=a),type:"email",placeholder:"you@example.com",autocomplete:"email",required:""},null,512),[[m,u.value]])]),s("div",B,[e[8]||(e[8]=s("label",{for:"password"},"Password",-1)),c(s("input",{id:"password","onUpdate:modelValue":e[4]||(e[4]=a=>r.value=a),type:"password",placeholder:"••••••••",autocomplete:"current-password",required:""},null,512),[[m,r.value]])]),i(o).error.value?(l(),n("div",E,y(i(o).error.value),1)):h("",!0),s("button",{type:"submit",class:"auth-submit",disabled:i(o).loading.value},[i(o).loading.value?(l(),n("i",I)):(l(),n("span",$,y(t.value==="login"?"Log In":"Create Account"),1))],8,S)],32),s("button",{class:"auth-skip",onClick:e[5]||(e[5]=a=>i(f).push("/"))}," Continue as Guest ")])]))}},M=w(q,[["__scopeId","data-v-1c7d6772"]]);export{M as default};
