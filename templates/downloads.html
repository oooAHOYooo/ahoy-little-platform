{% extends 'base.html' %}

{% block title %}Downloads — Ahoy Indie Media{% endblock %}

{% block content %}
<section class="container"
    style="max-width:960px;margin:2rem auto;padding:1rem;">
    <h1>Downloads</h1>
    <p class="text-gray">Get the latest desktop builds for macOS, Windows, and
        Linux.</p>

    {% if files %}
    <div class="card-list"
        style="display:grid;grid-template-columns:1fr;gap:12px;margin-top:1rem;">
        {% for f in files %}
        <div class="card"
            style="display:flex;align-items:center;justify-content:space-between;border:1px solid #e5e7eb;border-radius:12px;padding:12px 16px;">
            <div>
                <div style="font-weight:600;">{{ f.name }}</div>
                <div style="font-size:12px;color:#6b7280;">
                    {{ f.size_label }} • updated {{ f.modified }}
                </div>
            </div>
            <a class="btn" href="{{ f.url }}"
                style="background:#111827;color:white;padding:8px 12px;border-radius:10px;text-decoration:none;">Download</a>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty"
        style="margin-top:1.25rem;padding:1rem;border:1px dashed #d1d5db;border-radius:12px;">
        <p>No builds are available yet. Check back soon.</p>
    </div>
    {% endif %}

    <h2 style="margin-top:2rem;">Build locally</h2>
    <ol style="line-height:1.7;">
        <li>python -m pip install -r requirements.txt pywebview pyinstaller</li>
        <li>python desktop_main.py (dev run)</li>
        <li>pyinstaller --noconfirm --onefile --name "Ahoy Indie Media"
            desktop_main.py</li>
        <li>Place generated binaries into the <code>downloads/</code> folder to
            publish here.</li>
    </ol>
</section>
{% endblock %}
